import{g as F,r as z,k as H,m as l,n as D,w as s,x as t,C as Q,p as e,q as y,b5 as N,Q as R,t as q,v as g,K as $,V as P,z as x,B as L,a7 as V,a6 as E,D as I,l as G,a4 as U,_ as J,I as v,b8 as M,b7 as j,G as m,M as S,L as w,O as K,aO as d,au as W,bJ as Y}from"./index-c6b448c4.js";import{u as X}from"./action-170b94ec.js";import{Q as Z}from"./QSelect-c52a90c4.js";import{Q as ee}from"./QSpace-99117b7b.js";import{_ as oe}from"./ErrorStates.vue_vue_type_script_setup_true_lang-a42fa437.js";import{u as te}from"./ui-87c8c5bc.js";const ne=()=>!0;function se(i){const a={};return i.forEach(r=>{a[r]=ne}),a}function h(){const{emit:i,proxy:a}=F(),r=z(null);function p(){r.value.show()}function c(){r.value.hide()}function o(_){i("ok",_),c()}function n(){i("hide")}return Object.assign(a,{show:p,hide:c}),{dialogRef:r,onDialogHide:n,onDialogOK:o,onDialogCancel:c}}const A=["ok","hide"];h.emits=A;h.emitsObject=se(A);const ae={class:"text-h6"},le=H({__name:"ConfirmationDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...h.emits],setup(i){const a=i,{dialogRef:r,onDialogHide:p,onDialogOK:c,onDialogCancel:o}=h();return(n,_)=>(l(),D(Q,{ref_key:"dialogRef",ref:r,onHide:t(p)},{default:s(()=>[e(L,{class:"q-dialog-plugin"},{default:s(()=>[e(y,{class:N(`bg-${a.color} text-white q-py-sm`)},{default:s(()=>[e(R,{name:n.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),q("span",ae,g(n.title),1)]),_:1},8,["class"]),e(y,{class:"q-mt-md"},{default:s(()=>[$(g(n.message),1)]),_:1}),e(P,{align:"right"},{default:s(()=>[e(x,{flat:"",label:"Cancel",onClick:t(o)},null,8,["onClick"]),e(x,{flat:"",label:"Confirm",color:n.color,onClick:t(c)},null,8,["color","onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),ie={class:"text-h6"},re=H({__name:"DismissalDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...h.emits],setup(i){const a=i,{dialogRef:r,onDialogHide:p,onDialogOK:c}=h();return(o,n)=>(l(),D(Q,{ref_key:"dialogRef",ref:r,onHide:t(p)},{default:s(()=>[e(L,{class:"q-dialog-plugin"},{default:s(()=>[e(y,{class:N(`bg-${a.color} text-white q-py-sm`)},{default:s(()=>[e(R,{name:o.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),q("span",ie,g(o.title),1)]),_:1},8,["class"]),e(y,{class:"q-mt-md"},{default:s(()=>[$(g(o.message),1)]),_:1}),e(P,{align:"right"},{default:s(()=>[e(x,{flat:"",label:"Dismiss",onClick:t(c)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),ce={class:"text-h5"},ue={key:0},de={class:"text-weight-bold text-body1"},me={key:0},pe={key:1},fe={key:2},ge=H({__name:"InspectionDialog",props:{record:{},table:{}},emits:[...h.emits],setup(i){const a=i,{dialogRef:r,onDialogHide:p,onDialogOK:c}=h(),o=X(),n=a.table===V.LOGS?E.getInspectionItems():I.getInspectionItems(a.table),_=a.table===V.LOGS?E.getLabel("singular"):I.getLabel(a.table,"singular");return G(async()=>{U(!0,o.record,a.record)}),J(()=>{o.$reset()}),(k,O)=>(l(),D(Q,{ref_key:"dialogRef",ref:r,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:t(p)},{default:s(()=>[e(j,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:s(()=>[e(R,{name:t(v).INSPECT,size:"sm",class:"q-mx-sm"},null,8,["name"]),e(M,null,{default:s(()=>[$("Inspect")]),_:1}),e(x,{flat:"",round:"",icon:t(v).CLOSE,onClick:t(c)},null,8,["icon","onClick"])]),_:1}),e(L,{class:"q-dialog-plugin"},{default:s(()=>[e(y,null,{default:s(()=>[q("p",ce,g(t(_)),1),(l(!0),m(w,null,S(t(n),(u,b)=>(l(),m("div",{key:b,class:"q-mb-md"},[t(o).record[u.field]!==void 0?(l(),m("div",ue,[q("div",de,g(u.label),1),u.output==="single"?(l(),m("div",me,g(u.format(t(o).record[u.field])),1)):u.output==="list"?(l(),m("div",pe,[(l(!0),m(w,null,S(t(o).record[u.field],(C,f)=>(l(),m("li",{key:f,class:"q-ml-sm"},g(u.format(C)),1))),128))])):u.output==="key-values"?(l(),m("div",fe,[(l(!0),m(w,null,S(t(o).record[u.field],(C,f)=>(l(),m("li",{key:f,class:"q-ml-sm"},g(f)+": "+g(C),1))),128))])):K("",!0)])):K("",!0)]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),_e={class:"text-h5"},he=q("p",null,"Select how far back you want the charts to display.",-1),be=H({__name:"ChartingDialog",props:{id:{},parentTable:{}},emits:[...h.emits],setup(i){const a=i,{dialogRef:r,onDialogHide:p,onDialogOK:c}=h(),o=te(),n=z(null),_=z([d[d["One Week"]],d[d["One Month"]],d[d["Three Months"]],d[d["Six Months"]],d[d["One Year"]],d[d["All Time"]]]),k=I.getChartComponents(a.parentTable),O=I.getLabel(a.parentTable,"singular");function u(b){return b!=null&&b!==""}return(b,C)=>(l(),D(Q,{ref_key:"dialogRef",ref:r,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:t(p)},{default:s(()=>[e(j,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:s(()=>[e(R,{name:t(v).CHARTS,size:"sm",class:"q-mx-sm"},null,8,["name"]),e(M,null,{default:s(()=>[$("Charts")]),_:1}),e(x,{flat:"",round:"",icon:t(v).CLOSE,onClick:t(c)},null,8,["icon","onClick"])]),_:1}),e(L,{class:"q-dialog-plugin"},{default:s(()=>[t(k).length>0?(l(),D(y,{key:0},{default:s(()=>[q("p",_e,g(t(O)),1),he,e(Z,{modelValue:t(o).chartTime,"onUpdate:modelValue":C[0]||(C[0]=f=>t(o).chartTime=f),ref_key:"inputRef",ref:n,label:"Chart Time",options:_.value,rules:[f=>u(f)||"Required"],"emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary",onBlur:C[1]||(C[1]=f=>{var T,B;return!!((B=(T=n.value)==null?void 0:T.value)!=null&&B.validate())})},null,8,["modelValue","options","rules"]),(l(!0),m(w,null,S(t(k),(f,T)=>(l(),m("div",{key:T},[(l(),D(W(f),{id:b.id,parentTable:b.parentTable},null,8,["id","parentTable"]))]))),128)),e(ee,{class:"q-mb-xl"})]),_:1})):(l(),D(oe,{key:1,error:"no-data"}))]),_:1})]),_:1},8,["onHide"]))}});function ve(){const i=Y();function a(o,n,_,k,O){i.dialog({component:le,componentProps:{title:o,message:n,icon:_,color:k}}).onOk(()=>{O()})}function r(o,n,_=v.INFO,k="info"){i.dialog({component:re,componentProps:{title:o,message:n,icon:_,color:k}})}function p(o,n){i.dialog({component:ge,componentProps:{record:o,table:n}})}function c(o,n){i.dialog({component:be,componentProps:{id:o,parentTable:n}})}return{confirmDialog:a,dismissDialog:r,inspectDialog:p,chartsDialog:c}}export{ve as u};
