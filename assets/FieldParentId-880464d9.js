import{k as m,F as f,r as h,l as I,D as d,m as _,G as b,p as c,bD as g,x as e,R as l,w as v,Q as w,I as T,bE as x,L as y,t as p}from"./index-41950ac7.js";import{Q as D}from"./QSelect-fddb2898.js";import{u as E}from"./action-0d1cdd0a.js";import{u as P}from"./useRouting-1fbb7896.js";import"./QItem-49916fcd.js";import"./QItemLabel-16ad465d.js";import"./QMenu-c8c7351d.js";import"./selection-45cefb62.js";const R=p("div",{class:"text-weight-bold text-body1"},"Parent Record",-1),S=p("p",null," The parent record that this child record is associated with. This cannot be updated once set during record creation. ",-1),O=m({__name:"FieldParentId",setup(V){const{route:s,routeTable:i}=P(),{log:u}=f(),o=E(),r=h([]);return I(async()=>{try{if(i){const a=d.getParentTable(i);r.value=await d.getParentIdOptions(a),r.value.some(t=>t.value===o.record.parentId)||(o.record.parentId=void 0)}}catch(a){u.error("Error with parent id field",a)}}),(a,n)=>(_(),b(y,null,[R,S,c(D,{disable:e(s).name===e(l).EDIT,modelValue:e(o).record.parentId,"onUpdate:modelValue":n[0]||(n[0]=t=>e(o).record.parentId=t),rules:[t=>e(x).safeParse(t).success||"Required"],options:r.value,"emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary"},g({_:2},[e(s).name===e(l).EDIT?{name:"prepend",fn:v(()=>[c(w,{color:"warning",name:e(T).LOCK},null,8,["name"])]),key:"0"}:void 0]),1032,["disable","modelValue","rules","options"])],64))}});export{O as default};
