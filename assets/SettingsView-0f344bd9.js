import{g as se,r as z,e as o,az as Xe,s as be,aA as Ze,h as D,c as Te,aB as et,a as Ae,aC as tt,aD as at,aE as lt,aF as nt,ar as ot,aG as st,aH as _e,aI as it,aJ as rt,ab as ut,al as ct,an as me,ai as dt,aa as mt,j as le,aK as vt,aL as ft,i as bt,d as pt,ac as gt,k as ht,W as yt,A as ve,F as kt,aM as St,aN as Ct,aO as j,D as A,S as V,_ as xt,m as we,n as De,w as fe,t as i,p as _,x as g,a1 as _t,z as B,aP as ne,Q as wt,I as Q,aQ as Dt,O as Lt,a0 as $t,a7 as Le,U as Et}from"./index-9562c0c8.js";import{b as Tt}from"./QSelect-06441a7e.js";import{T as At}from"./TouchPan-ee8ae290.js";import{u as Ft}from"./useDialogs-2df8bc4a.js";import{u as It}from"./useDefaults-3489654b.js";import{_ as Rt}from"./ResponsivePage.vue_vue_type_script_setup_true_lang-81d36e52.js";import{u as Mt}from"./useRouting-a5d740f7.js";import"./QItem-d9793571.js";import"./QItemLabel-5d44a896.js";import"./QMenu-d9274435.js";import"./selection-eefa8895.js";import"./action-5966a3d3.js";import"./QSpace-9a0d35f7.js";import"./ErrorStates.vue_vue_type_script_setup_true_lang-2f7b118f.js";import"./ui-429798f5.js";function ae(l,r,R,u){const e=[];return l.forEach(y=>{u(y)===!0?e.push(y):r.push({failedPropValidation:R,file:y})}),e}function oe(l){l&&l.dataTransfer&&(l.dataTransfer.dropEffect="copy"),be(l)}const Nt={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},qt=["rejected"];function Ot({editable:l,dnd:r,getFileInput:R,addFilesToQueue:u}){const{props:e,emit:y,proxy:E}=se(),k=z(null),W=o(()=>e.accept!==void 0?e.accept.split(",").map(s=>(s=s.trim(),s==="*"?"*/":(s.endsWith("/*")&&(s=s.slice(0,s.length-1)),s.toUpperCase()))):null),L=o(()=>parseInt(e.maxFiles,10)),F=o(()=>parseInt(e.maxTotalSize,10));function U(s){if(l.value)if(s!==Object(s)&&(s={target:null}),s.target!==null&&s.target.matches('input[type="file"]')===!0)s.clientX===0&&s.clientY===0&&Xe(s);else{const m=R();m&&m!==s.target&&m.click(s)}}function N(s){l.value&&s&&u(null,s)}function G(s,m,M,O){let f=Array.from(m||s.target.files);const T=[],H=()=>{T.length!==0&&y("rejected",T)};if(e.accept!==void 0&&W.value.indexOf("*/")===-1&&(f=ae(f,T,"accept",b=>W.value.some(w=>b.type.toUpperCase().startsWith(w)||b.name.toUpperCase().endsWith(w))),f.length===0))return H();if(e.maxFileSize!==void 0){const b=parseInt(e.maxFileSize,10);if(f=ae(f,T,"max-file-size",w=>w.size<=b),f.length===0)return H()}if(e.multiple!==!0&&f.length!==0&&(f=[f[0]]),f.forEach(b=>{b.__key=b.webkitRelativePath+b.lastModified+b.name+b.size}),O===!0){const b=M.map(w=>w.__key);f=ae(f,T,"duplicate",w=>b.includes(w.__key)===!1)}if(f.length===0)return H();if(e.maxTotalSize!==void 0){let b=O===!0?M.reduce((w,Y)=>w+Y.size,0):0;if(f=ae(f,T,"max-total-size",w=>(b+=w.size,b<=F.value)),f.length===0)return H()}if(typeof e.filter=="function"){const b=e.filter(f);f=ae(f,T,"filter",w=>b.includes(w))}if(e.maxFiles!==void 0){let b=O===!0?M.length:0;if(f=ae(f,T,"max-files",()=>(b++,b<=L.value)),f.length===0)return H()}if(H(),f.length!==0)return f}function $(s){oe(s),r.value!==!0&&(r.value=!0)}function v(s){be(s),(s.relatedTarget!==null||Ze.is.safari!==!0?s.relatedTarget!==k.value:document.elementsFromPoint(s.clientX,s.clientY).includes(k.value)===!1)===!0&&(r.value=!1)}function I(s){oe(s);const m=s.dataTransfer.files;m.length!==0&&u(null,m),r.value=!1}function h(s){if(r.value===!0)return D("div",{ref:k,class:`q-${s}__dnd absolute-full`,onDragenter:oe,onDragover:oe,onDragleave:v,onDrop:I})}return Object.assign(E,{pickFiles:U,addFiles:N}),{pickFiles:U,addFiles:N,onDragover:$,onDragleave:v,processFiles:G,getDndNode:h,maxFilesNumber:L,maxTotalSizeNumber:F}}const Vt=Te({name:"QFile",inheritAttrs:!1,props:{...et,...Ae,...Nt,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...tt,...qt],setup(l,{slots:r,emit:R,attrs:u}){const{proxy:e}=se(),y=at(),E=z(null),k=z(!1),W=lt(l),{pickFiles:L,onDragover:F,onDragleave:U,processFiles:N,getDndNode:G}=Ot({editable:y.editable,dnd:k,getFileInput:te,addFilesToQueue:J}),$=nt(l),v=o(()=>Object(l.modelValue)===l.modelValue?"length"in l.modelValue?Array.from(l.modelValue):[l.modelValue]:[]),I=o(()=>_e(v.value)),h=o(()=>v.value.map(t=>t.name).join(", ")),s=o(()=>it(v.value.reduce((t,p)=>t+p.size,0))),m=o(()=>({totalSize:s.value,filesNumber:v.value.length,maxFiles:l.maxFiles})),M=o(()=>({tabindex:-1,type:"file",title:"",accept:l.accept,capture:l.capture,name:W.value,...u,id:y.targetUid.value,disabled:y.editable.value!==!0})),O=o(()=>"q-file q-field--auto-height"+(k.value===!0?" q-file--dnd":"")),f=o(()=>l.multiple===!0&&l.append===!0);function T(t){const p=v.value.slice();p.splice(t,1),b(p)}function H(t){const p=v.value.indexOf(t);p>-1&&T(p)}function b(t){R("update:modelValue",l.multiple===!0?t:t[0])}function w(t){t.keyCode===13&&rt(t)}function Y(t){(t.keyCode===13||t.keyCode===32)&&L(t)}function te(){return E.value}function J(t,p){const C=N(t,p,v.value,f.value),X=te();X!=null&&(X.value=""),C!==void 0&&((l.multiple===!0?l.modelValue&&C.every(K=>v.value.includes(K)):l.modelValue===C[0])||b(f.value===!0?v.value.concat(C):C))}function Z(){return[D("input",{class:[l.inputClass,"q-file__filler"],style:l.inputStyle})]}function c(){if(r.file!==void 0)return v.value.length===0?Z():v.value.map((p,C)=>r.file({index:C,file:p,ref:this}));if(r.selected!==void 0)return v.value.length===0?Z():r.selected({files:v.value,ref:this});if(l.useChips===!0)return v.value.length===0?Z():v.value.map((p,C)=>D(Tt,{key:"file-"+C,removable:y.editable.value,dense:!0,textColor:l.color,tabindex:l.tabindex,onRemove:()=>{T(C)}},()=>D("span",{class:"ellipsis",textContent:p.name})));const t=l.displayValue!==void 0?l.displayValue:h.value;return t.length!==0?[D("div",{class:l.inputClass,style:l.inputStyle,textContent:t})]:Z()}function n(){const t={ref:E,...M.value,...$.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:J};return l.multiple===!0&&(t.multiple=!0),D("input",t)}return Object.assign(y,{fieldClass:O,emitValue:b,hasValue:I,inputRef:E,innerValue:v,floatingLabel:o(()=>I.value===!0||_e(l.displayValue)),computedCounter:o(()=>{if(l.counterLabel!==void 0)return l.counterLabel(m.value);const t=l.maxFiles;return`${v.value.length}${t!==void 0?" / "+t:""} (${s.value})`}),getControlChild:()=>G("file"),getControl:()=>{const t={ref:y.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:l.tabindex};return y.editable.value===!0&&Object.assign(t,{onDragover:F,onDragleave:U,onKeydown:w,onKeyup:Y}),D("div",t,[n()].concat(c()))}}),Object.assign(e,{removeAtIndex:T,removeFile:H,getNativeElement:()=>E.value}),ot(e,"nativeEl",()=>E.value),st(y)}}),$e="q-slider__marker-labels",Bt=l=>({value:l}),zt=({marker:l})=>D("div",{key:l.value,style:l.style,class:l.classes},l.label),Fe=[34,37,40,33,39,38],Pt={...mt,...Ae,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:l=>l>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},jt=["pan","update:modelValue","change"];function Wt({updateValue:l,updatePosition:r,getDragging:R,formAttrs:u}){const{props:e,emit:y,slots:E,proxy:{$q:k}}=se(),W=ut(e,k),L=bt(u),F=z(!1),U=z(!1),N=z(!1),G=z(!1),$=o(()=>e.vertical===!0?"--v":"--h"),v=o(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),I=o(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(k.lang.rtl===!0)),h=o(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),s=o(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),m=o(()=>e.disable!==!0&&e.readonly!==!0&&h.value<s.value),M=o(()=>(String(e.step).trim().split(".")[1]||"").length),O=o(()=>e.step===0?1:e.step),f=o(()=>m.value===!0?e.tabindex||0:-1),T=o(()=>e.max-e.min),H=o(()=>s.value-h.value),b=o(()=>ie(h.value)),w=o(()=>ie(s.value)),Y=o(()=>e.vertical===!0?I.value===!0?"bottom":"top":I.value===!0?"right":"left"),te=o(()=>e.vertical===!0?"height":"width"),J=o(()=>e.vertical===!0?"width":"height"),Z=o(()=>e.vertical===!0?"vertical":"horizontal"),c=o(()=>{const a={role:"slider","aria-valuemin":h.value,"aria-valuemax":s.value,"aria-orientation":Z.value,"data-step":e.step};return e.disable===!0?a["aria-disabled"]="true":e.readonly===!0&&(a["aria-readonly"]="true"),a}),n=o(()=>`q-slider q-slider${$.value} q-slider--${F.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(m.value===!0?" q-slider--editable":""))+(N.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(W.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+$.value:""));function t(a){const d="q-slider__"+a;return`${d} ${d}${$.value} ${d}${$.value}${v.value}`}function p(a){const d="q-slider__"+a;return`${d} ${d}${$.value}`}const C=o(()=>{const a=e.selectionColor||e.color;return"q-slider__selection absolute"+(a!==void 0?` text-${a}`:"")}),X=o(()=>p("markers")+" absolute overflow-hidden"),K=o(()=>p("track-container")),P=o(()=>t("pin")),pe=o(()=>t("label")),Ie=o(()=>t("text-container")),Re=o(()=>t("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),Me=o(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),Ne=o(()=>{const a={[J.value]:e.trackSize};return e.trackImg!==void 0&&(a.backgroundImage=`url(${e.trackImg}) !important`),a}),qe=o(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),ge=o(()=>{const a={[Y.value]:`${100*b.value}%`,[te.value]:`${100*(w.value-b.value)}%`};return e.innerTrackImg!==void 0&&(a.backgroundImage=`url(${e.innerTrackImg}) !important`),a});function Oe(a){const{min:d,max:S,step:x}=e;let q=d+a*(S-d);if(x>0){const ee=(q-d)%x;q+=(Math.abs(ee)>=x/2?(ee<0?-1:1)*x:0)-ee}return M.value>0&&(q=parseFloat(q.toFixed(M.value))),le(q,h.value,s.value)}function ie(a){return T.value===0?0:(a-e.min)/T.value}function Ve(a,d){const S=vt(a),x=e.vertical===!0?le((S.top-d.top)/d.height,0,1):le((S.left-d.left)/d.width,0,1);return le(I.value===!0?1-x:x,b.value,w.value)}const he=o(()=>ct(e.markers)===!0?e.markers:O.value),ye=o(()=>{const a=[],d=he.value,S=e.max;let x=e.min;do a.push(x),x+=d;while(x<S);return a.push(S),a}),ke=o(()=>{const a=` ${$e}${$.value}-`;return $e+`${a}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${a}${I.value===!0?"rtl":"ltr"}`}),re=o(()=>e.markerLabels===!1?null:ze(e.markerLabels).map((a,d)=>({index:d,value:a.value,label:a.label||a.value,classes:ke.value+(a.classes!==void 0?" "+a.classes:""),style:{...Ce(a.value),...a.style||{}}}))),Se=o(()=>({markerList:re.value,markerMap:Pe.value,classes:ke.value,getStyle:Ce})),Be=o(()=>{if(H.value!==0){const a=100*he.value/H.value;return{...ge.value,backgroundSize:e.vertical===!0?`2px ${a}%`:`${a}% 2px`}}return null});function ze(a){if(a===!1)return null;if(a===!0)return ye.value.map(Bt);if(typeof a=="function")return ye.value.map(S=>{const x=a(S);return me(x)===!0?{...x,value:S}:{value:S,label:x}});const d=({value:S})=>S>=e.min&&S<=e.max;return Array.isArray(a)===!0?a.map(S=>me(S)===!0?S:{value:S}).filter(d):Object.keys(a).map(S=>{const x=a[S],q=Number(S);return me(x)===!0?{...x,value:q}:{value:q,label:x}}).filter(d)}function Ce(a){return{[Y.value]:`${100*(a-e.min)/T.value}%`}}const Pe=o(()=>{if(e.markerLabels===!1)return null;const a={};return re.value.forEach(d=>{a[d.value]=d}),a});function je(){if(E["marker-label-group"]!==void 0)return E["marker-label-group"](Se.value);const a=E["marker-label"]||zt;return re.value.map(d=>a({marker:d,...Se.value}))}const We=o(()=>[[At,Ue,void 0,{[Z.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Ue(a){a.isFinal===!0?(G.value!==void 0&&(r(a.evt),a.touch===!0&&l(!0),G.value=void 0,y("pan","end")),F.value=!1,N.value=!1):a.isFirst===!0?(G.value=R(a.evt),r(a.evt),l(),F.value=!0,y("pan","start")):(r(a.evt),l())}function xe(){N.value=!1}function Ge(a){r(a,R(a)),l(),U.value=!0,F.value=!0,document.addEventListener("mouseup",ue,!0)}function ue(){U.value=!1,F.value=!1,l(!0),xe(),document.removeEventListener("mouseup",ue,!0)}function He(a){r(a,R(a)),l(!0)}function Ke(a){Fe.includes(a.keyCode)&&l(!0)}function Qe(a){if(e.vertical===!0)return null;const d=k.lang.rtl!==e.reverse?1-a:a;return{transform:`translateX(calc(${2*d-1} * ${e.thumbSize} / 2 + ${50-100*d}%))`}}function Ye(a){const d=o(()=>U.value===!1&&(N.value===a.focusValue||N.value==="both")?" q-slider--focus":""),S=o(()=>`q-slider__thumb q-slider__thumb${$.value} q-slider__thumb${$.value}-${I.value===!0?"rtl":"ltr"} absolute non-selectable`+d.value+(a.thumbColor.value!==void 0?` text-${a.thumbColor.value}`:"")),x=o(()=>({width:e.thumbSize,height:e.thumbSize,[Y.value]:`${100*a.ratio.value}%`,zIndex:N.value===a.focusValue?2:void 0})),q=o(()=>a.labelColor.value!==void 0?` text-${a.labelColor.value}`:""),ee=o(()=>Qe(a.ratio.value)),ce=o(()=>"q-slider__text"+(a.labelTextColor.value!==void 0?` text-${a.labelTextColor.value}`:""));return()=>{const de=[D("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[D("path",{d:e.thumbPath})]),D("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(de.push(D("div",{class:P.value+" absolute fit no-pointer-events"+q.value},[D("div",{class:pe.value,style:{minWidth:e.thumbSize}},[D("div",{class:Ie.value,style:ee.value},[D("span",{class:ce.value},a.label.value)])])])),e.name!==void 0&&e.disable!==!0&&L(de,"push")),D("div",{class:S.value,style:x.value,...a.getNodeData()},de)}}function Je(a,d,S,x){const q=[];e.innerTrackColor!=="transparent"&&q.push(D("div",{key:"inner",class:qe.value,style:ge.value})),e.selectionColor!=="transparent"&&q.push(D("div",{key:"selection",class:C.value,style:a.value})),e.markers!==!1&&q.push(D("div",{key:"marker",class:X.value,style:Be.value})),x(q);const ee=[ft("div",{key:"trackC",class:K.value,tabindex:d.value,...S.value},[D("div",{class:Me.value,style:Ne.value},q)],"slide",m.value,()=>We.value)];if(e.markerLabels!==!1){const ce=e.switchMarkerLabelsSide===!0?"unshift":"push";ee[ce](D("div",{key:"markerL",class:Re.value},je()))}return ee}return dt(()=>{document.removeEventListener("mouseup",ue,!0)}),{state:{active:F,focus:N,preventFocus:U,dragging:G,editable:m,classes:n,tabindex:f,attributes:c,step:O,decimals:M,trackLen:T,innerMin:h,innerMinRatio:b,innerMax:s,innerMaxRatio:w,positionProp:Y,sizeProp:te,isReversed:I},methods:{onActivate:Ge,onMobileClick:He,onBlur:xe,onKeyup:Ke,getContent:Je,getThumbRenderFn:Ye,convertRatioToModel:Oe,convertModelToRatio:ie,getDraggingRatio:Ve}}}const Ut=()=>({}),Gt=Te({name:"QSlider",props:{...Pt,modelValue:{required:!0,default:null,validator:l=>typeof l=="number"||l===null},labelValue:[String,Number]},emits:jt,setup(l,{emit:r}){const{proxy:{$q:R}}=se(),{state:u,methods:e}=Wt({updateValue:$,updatePosition:I,getDragging:v,formAttrs:pt(l)}),y=z(null),E=z(0),k=z(0);function W(){k.value=l.modelValue===null?u.innerMin.value:le(l.modelValue,u.innerMin.value,u.innerMax.value)}gt(()=>`${l.modelValue}|${u.innerMin.value}|${u.innerMax.value}`,W),W();const L=o(()=>e.convertModelToRatio(k.value)),F=o(()=>u.active.value===!0?E.value:L.value),U=o(()=>{const m={[u.positionProp.value]:`${100*u.innerMinRatio.value}%`,[u.sizeProp.value]:`${100*(F.value-u.innerMinRatio.value)}%`};return l.selectionImg!==void 0&&(m.backgroundImage=`url(${l.selectionImg}) !important`),m}),N=e.getThumbRenderFn({focusValue:!0,getNodeData:Ut,ratio:F,label:o(()=>l.labelValue!==void 0?l.labelValue:k.value),thumbColor:o(()=>l.thumbColor||l.color),labelColor:o(()=>l.labelColor),labelTextColor:o(()=>l.labelTextColor)}),G=o(()=>u.editable.value!==!0?{}:R.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:h,onBlur:e.onBlur,onKeydown:s,onKeyup:e.onKeyup});function $(m){k.value!==l.modelValue&&r("update:modelValue",k.value),m===!0&&r("change",k.value)}function v(){return y.value.getBoundingClientRect()}function I(m,M=u.dragging.value){const O=e.getDraggingRatio(m,M);k.value=e.convertRatioToModel(O),E.value=l.snap!==!0||l.step===0?O:e.convertModelToRatio(k.value)}function h(){u.focus.value=!0}function s(m){if(!Fe.includes(m.keyCode))return;be(m);const M=([34,33].includes(m.keyCode)?10:1)*u.step.value,O=([34,37,40].includes(m.keyCode)?-1:1)*(u.isReversed.value===!0?-1:1)*(l.vertical===!0?-1:1)*M;k.value=le(parseFloat((k.value+O).toFixed(u.decimals.value)),u.innerMin.value,u.innerMax.value),$()}return()=>{const m=e.getContent(U,u.tabindex,G,M=>{M.push(N())});return D("div",{ref:y,class:u.classes.value+(l.modelValue===null?" q-slider--no-value":""),...u.attributes.value,"aria-valuenow":l.modelValue},m)}}});function Ee(l){setTimeout(()=>{window.URL.revokeObjectURL(l.href)},1e4),l.remove()}function Ht(l,r,R={}){const{mimeType:u,byteOrderMark:e,encoding:y}=typeof R=="string"?{mimeType:R}:R,E=y!==void 0?new TextEncoder(y).encode([r]):r,k=e!==void 0?[e,E]:[E],W=new Blob(k,{type:u||"application/octet-stream"}),L=document.createElement("a");L.href=window.URL.createObjectURL(W),L.setAttribute("download",l),typeof L.download>"u"&&L.setAttribute("target","_blank"),L.classList.add("hidden"),L.style.position="fixed",document.body.appendChild(L);try{return L.click(),Ee(L),!0}catch(F){return Ee(L),F}}const Kt={class:"q-mb-xl"},Qt=i("div",{class:"text-h6 q-mb-md"},"Height",-1),Yt=i("p",null,` Your height is used for the BMI calculation when updating your body weight fi you provide it. For reference, a height of 5'10" is equal to 70 inches. `,-1),Jt={class:"q-mb-xl"},Xt=i("p",{class:"text-h6"},"Options",-1),Zt={class:"q-mb-md"},ea=i("p",null,"Reset your app Settings to the defaults without impacting any of your data.",-1),ta={class:"q-mb-md"},aa=i("p",null," Welcome overlay provides helpful instructions on basic app usage on the Dashboard page. ",-1),la={class:"q-mb-md"},na=i("p",null,"Show descriptions for records displayed on the Dashboard page.",-1),oa=i("p",null,"Dark mode allows you to switch between a light or dark theme for the app.",-1),sa={class:"q-mb-xl"},ia=i("p",{class:"text-h6"},"Defaults",-1),ra=i("p",null,"Load default records into the database to get started using the app.",-1),ua={class:"q-mb-md"},ca={class:"q-mb-md"},da={class:"q-mb-md"},ma={class:"q-mb-md"},va={class:"q-mb-md"},fa={class:"q-mb-md"},ba={class:"q-mb-xl"},pa=i("p",{class:"text-h6"},"Data Management",-1),ga={class:"q-mb-md"},ha=i("p",null," Import data into the database from a JSON file. The app expects the data in the file to be structured the same as the exported version. Logs are ignored during imports. ",-1),ya={class:"q-mb-md"},ka=i("p",null," Export your data as a JSON file. Do this on a regularly basis so you have a backup of your data. ",-1),Sa={class:"q-mb-xl"},Ca=i("p",{class:"text-h6"},"Logging",-1),xa={class:"q-mb-md"},_a=i("p",null,"View the app logs to troubleshoot issues.",-1),wa={class:"q-mb-md"},Da=i("p",null," Validate that the logging settings below are working as expected by generating some test logs. ",-1),La={class:"q-mb-md"},$a=i("p",null,"Show Console Logs will display all log messages in the browser console.",-1),Ea={class:"q-mb-md"},Ta=i("p",null,"Show Info Messages will display info level notifications.",-1),Aa={class:"q-mb-md"},Fa=i("p",null," Change log retention duration below. Logs older than the selected time will be deleted. This functions retroactivley. Expired log processing occurs every time the app is loaded. ",-1),Ia={class:"q-mx-lg"},Ra={class:"q-mb-xl"},Ma=i("p",{class:"text-h6 text-negative"},"DANGER ZONE",-1),Na=i("p",null," The following operations cannot be undone. Consider exporting your data before proceeding. ",-1),qa={class:"q-mb-md"},Oa=i("p",null,"Delete the app logs from the database.",-1),Va={class:"q-mb-md"},Ba=i("p",null,"Permanently delete all data from the database.",-1),za={class:"q-mb-md"},Pa=i("p",null,"Delete the underlining database and all of its data (requires website reload).",-1),nl=ht({__name:"SettingsView",setup(l){yt({title:`${ve} - Settings`});const{log:r}=kt(),{notify:R}=St(),{confirmDialog:u}=Ft(),{onAddBarbellStrengthWorkouts:e,onAddAuxiliaryStrengthWorkouts:y,onAddAirbikeCardioExercise:E,onAddStretchRoutine:k,onAddCarpalTunnelRoutine:W,onAddDeepBreathingRoutine:L,onAddStandardMeasurements:F}=It(),{goToLogsData:U}=Mt(),N=Ct.number().positive().min(1).max(120).optional(),G=z([]),$=z(null),v=z(void 0),I=z(0),h=z(null),s=[j[j["One Week"]],j[j["One Month"]],j[j["Three Months"]],j[j["Six Months"]],j[j["One Year"]],j[j.Forever]],m=A.liveSettings().subscribe({next:c=>{var t,p;G.value=c;const n=(t=c.find(C=>C.key===V.LOG_RETENTION_DURATION))==null?void 0:t.value;I.value=s.findIndex(C=>C===j[n]),v.value=(p=c.find(C=>C.key===V.USER_HEIGHT_INCHES))==null?void 0:p.value},error:c=>{r.error("Error fetching live Settings",c)}});xt(()=>{m.unsubscribe()});function M(){r.debug("This is a Debug Log",{name:"Debug"}),r.info("This is an Info Log",{name:"Info"}),r.warn("This is a Warning Log",{name:"Warning"}),r.error("This is an Error Log",{name:"Error"})}function O(c){var t,p;const n=((p=(t=c[0])==null?void 0:t.importFile)==null?void 0:p.name)||void 0;r.warn(`Cannot import"${n}`,c)}async function f(){var C,X;const c=await A.isActiveWorkout(),n=c?`You have an active workout. Importing data will discard it. Import backup data from ${(C=h==null?void 0:h.value)==null?void 0:C.name} and attempt to load records into the database from it?`:`Import backup data from ${(X=h==null?void 0:h.value)==null?void 0:X.name} and attempt to load records into the database from it?`,t=c?Q.WARN:Q.INFO;u("Import",n,t,c?"warning":"info",async()=>{try{await A.discardWorkout();const K=JSON.parse(await h.value.text());if(r.silentDebug("backupData:",K),K.appName!==ve)throw new Error(`Cannot import data from the app ${K.appName}`);K[Le.SETTINGS].length>0&&await Promise.all(K[Le.SETTINGS].filter(P=>Object.values(V).includes(P.key)).map(async P=>await A.setSetting(P.key,P.value))),await Promise.all([Object.values(Et).map(async P=>await A.importRecords(P,K[P]))]),h.value=null,r.info("Successfully imported available data")}catch(K){r.error("Error during import",K)}})}async function T(){const c=ve.toLowerCase().split(" ").join("-"),n=new Date().toISOString().split("T")[0],t=`export-${c}-${n}.json`,p=await A.isActiveWorkout(),C=p?`You have an active workout. Exporting data will discard it. Export all data into the file "${t}" as a backup?`:`Export all data into the file "${t}" as a backup?`,X=p?Q.WARN:Q.INFO;u("Export",C,X,p?"warning":"info",async()=>{try{await A.discardWorkout();const P=await A.getBackupData();if(r.silentDebug("backupData:",P),Ht(t,JSON.stringify(P),{encoding:"UTF-8",mimeType:"application/json"})===!0)r.info("File downloaded successfully",{filename:t});else throw new Error("Browser denied file download")}catch(P){r.error("Export failed",P)}})}async function H(c){try{const n=s[c],t=j[n];await A.setSetting(V.LOG_RETENTION_DURATION,t),r.info("Updated log retention duration",{logDurationKey:n,logDuration:t,index:c})}catch(n){r.error("Log retention duration update failed",n)}}function b(){u("Reset Settings","Would you like to reset your app Settings to the defaults? This does not impact your data.",Q.REFRESH,"primary",async()=>{try{await A.clearSettings(),r.info("Successfully reset settings")}catch(c){r.error("Error reseting settings",c)}})}function w(){u("Delete Logs","Permanetly delete all Logs from the database?",Q.CLEAR,"negative",async()=>{try{await A.clearLogs(),r.info("Successfully deleted logs data")}catch(c){r.error("Error deleting Logs",c)}})}function Y(){u("Delete All","Permanetly delete all data from the database?",Q.CLEAR,"negative",async()=>{try{await A.clearAll(),r.info("All data successfully deleted")}catch(c){r.error("Error deleting all data",c)}})}function te(){u("Delete Database","Delete the underlining database? All data will be lost. You must reload the website after this action to reinitialize the database.",Q.CLEAR,"negative",async()=>{try{await A.deleteDatabase(),R("Reload the website now",Q.WARN,"warning")}catch(c){r.error("Database deletion failed",c)}})}function J(c){var n;return(n=G.value.find(t=>t.key===c))==null?void 0:n.value}async function Z(){var c;v.value||(v.value=void 0),(c=$==null?void 0:$.value)!=null&&c.validate()&&await A.setSetting(V.USER_HEIGHT_INCHES,v.value)}return(c,n)=>(we(),De(Rt,{bannerIcon:g(Q).SETTINGS,bannerTitle:"Settings"},{default:fe(()=>[i("section",Kt,[Qt,Yt,_(_t,{modelValue:v.value,"onUpdate:modelValue":[n[0]||(n[0]=t=>v.value=t),n[1]||(n[1]=t=>Z())],modelModifiers:{number:!0},ref_key:"heightInputRef",ref:$,rules:[t=>g(N).safeParse(t).success||"Must be 1-120 or empty"],hint:"Auto Saved",type:"number",step:"0.01",placeholder:"Total Inches",dense:"",outlined:"",color:"primary"},null,8,["modelValue","rules"])]),i("section",Jt,[Xt,i("div",Zt,[ea,_(B,{label:"Reset Settings",color:"primary",onClick:n[2]||(n[2]=t=>b())})]),i("div",ta,[aa,_(ne,{label:"Show Welcome Overlay","model-value":J(g(V).WELCOME_OVERLAY),"onUpdate:modelValue":n[3]||(n[3]=t=>g(A).setSetting(g(V).WELCOME_OVERLAY,t))},null,8,["model-value"])]),i("div",la,[na,_(ne,{label:"Show Dashboard Descriptions","model-value":J(g(V).DASHBOARD_DESCRIPTIONS),"onUpdate:modelValue":n[4]||(n[4]=t=>g(A).setSetting(g(V).DASHBOARD_DESCRIPTIONS,t))},null,8,["model-value"])]),i("div",null,[oa,_(ne,{label:"Dark Mode","model-value":J(g(V).DARK_MODE),"onUpdate:modelValue":n[5]||(n[5]=t=>g(A).setSetting(g(V).DARK_MODE,t))},null,8,["model-value"])])]),i("section",sa,[ia,i("div",null,[ra,i("div",ua,[_(B,{label:"Barbell Strength Workouts",color:"primary",onClick:n[6]||(n[6]=t=>g(e)())})]),i("div",ca,[_(B,{label:"Auxiliary Strength Workouts",color:"primary",onClick:n[7]||(n[7]=t=>g(y)())})]),i("div",da,[_(B,{label:"Airbike Cardio Exercise",color:"primary",onClick:n[8]||(n[8]=t=>g(E)())})]),i("div",ma,[_(B,{label:"Stretch Routine",color:"primary",onClick:n[9]||(n[9]=t=>g(k)())})]),i("div",va,[_(B,{label:"Carpel Tunnel Routine",color:"primary",onClick:n[10]||(n[10]=t=>g(W)())})]),i("div",fa,[_(B,{label:"Deep Breathing Routine",color:"primary",onClick:n[11]||(n[11]=t=>g(L)())})]),i("div",null,[_(B,{label:"Standard Measurements",color:"primary",onClick:n[12]||(n[12]=t=>g(F)())})])])]),i("section",ba,[pa,i("div",ga,[ha,_(Vt,{modelValue:h.value,"onUpdate:modelValue":n[15]||(n[15]=t=>h.value=t),dense:"",outlined:"",counter:"","bottom-slots":"",label:"File Select","max-file-size":g($t).MAX_FILE_SIZE,accept:"application/json",onRejected:O},{before:fe(()=>[_(B,{disable:!h.value,label:"Import",color:"primary",onClick:n[13]||(n[13]=t=>f())},null,8,["disable"])]),append:fe(()=>[h.value?(we(),De(wt,{key:0,name:g(Q).CLOSE,class:"cursor-pointer",onClick:n[14]||(n[14]=Dt(t=>h.value=null,["stop"]))},null,8,["name"])):Lt("",!0)]),_:1},8,["modelValue","max-file-size"])]),i("div",ya,[ka,_(B,{label:"Export",color:"primary",onClick:n[16]||(n[16]=t=>T())})])]),i("section",Sa,[Ca,i("div",xa,[_a,_(B,{label:"Access Logs",color:"primary",onClick:n[17]||(n[17]=t=>g(U)())})]),i("div",wa,[Da,_(B,{label:"Test Logger",color:"primary",onClick:n[18]||(n[18]=t=>M())})]),i("div",La,[$a,_(ne,{label:"Show Console Logs","model-value":J(g(V).CONSOLE_LOGS),"onUpdate:modelValue":n[19]||(n[19]=t=>g(A).setSetting(g(V).CONSOLE_LOGS,t))},null,8,["model-value"])]),i("div",Ea,[Ta,_(ne,{label:"Show Info Messages","model-value":J(g(V).INFO_MESSAGES),"onUpdate:modelValue":n[20]||(n[20]=t=>g(A).setSetting(g(V).INFO_MESSAGES,t))},null,8,["model-value"])]),i("div",Aa,[Fa,i("div",Ia,[_(Gt,{modelValue:I.value,"onUpdate:modelValue":n[21]||(n[21]=t=>I.value=t),"label-value":s[I.value],color:"primary",markers:"","label-always":"","switch-label-side":"",min:0,max:s.length-1,onChange:n[22]||(n[22]=t=>H(t))},null,8,["modelValue","label-value","max"])])])]),i("section",Ra,[Ma,Na,i("div",qa,[Oa,_(B,{label:"Delete Logs",color:"negative",onClick:n[23]||(n[23]=t=>w())})]),i("div",Va,[Ba,_(B,{label:"Delete All Data",color:"negative",onClick:n[24]||(n[24]=t=>Y())})]),i("div",za,[Pa,_(B,{label:"Delete Database",color:"negative",onClick:n[25]||(n[25]=t=>te())})])])]),_:1},8,["bannerIcon"]))}});export{nl as default};
