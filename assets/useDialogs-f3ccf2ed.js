import{g as M,r as z,k as T,m as r,n as h,w as a,x as n,C as H,p as e,q as y,aL as j,Q as C,t as m,v as x,K as R,T as B,z as O,B as $,a0 as N,_ as I,D as S,Z as U,I as b,aM as E,aN as P,G as k,M as V,L as A,ao as F,O as G,aH as d,aO as W}from"./index-8596875a.js";import{u as Y}from"./action-5374d455.js";import{Q as Z}from"./QSelect-579acf59.js";import{u as J}from"./ui-e95edf17.js";const X=()=>!0;function ee(l){const o={};return l.forEach(i=>{o[i]=X}),o}function g(){const{emit:l,proxy:o}=M(),i=z(null);function u(){i.value.show()}function c(){i.value.hide()}function t(p){l("ok",p),c()}function s(){l("hide")}return Object.assign(o,{show:u,hide:c}),{dialogRef:i,onDialogHide:s,onDialogOK:t,onDialogCancel:c}}const K=["ok","hide"];g.emits=K;g.emitsObject=ee(K);const oe={class:"text-h6"},ne=T({__name:"ConfirmationDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...g.emits],setup(l){const o=l,{dialogRef:i,onDialogHide:u,onDialogOK:c,onDialogCancel:t}=g();return(s,p)=>(r(),h(H,{ref_key:"dialogRef",ref:i,onHide:n(u)},{default:a(()=>[e($,{class:"q-dialog-plugin"},{default:a(()=>[e(y,{class:j(`bg-${o.color} text-white q-py-sm`)},{default:a(()=>[e(C,{name:s.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),m("span",oe,x(s.title),1)]),_:1},8,["class"]),e(y,{class:"q-mt-md"},{default:a(()=>[R(x(s.message),1)]),_:1}),e(B,{align:"right"},{default:a(()=>[e(O,{flat:"",label:"Cancel",onClick:n(t)},null,8,["onClick"]),e(O,{flat:"",label:"Confirm",color:s.color,onClick:n(c)},null,8,["color","onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),te={class:"text-h6"},se=T({__name:"DismissalDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...g.emits],setup(l){const o=l,{dialogRef:i,onDialogHide:u,onDialogOK:c}=g();return(t,s)=>(r(),h(H,{ref_key:"dialogRef",ref:i,onHide:n(u)},{default:a(()=>[e($,{class:"q-dialog-plugin"},{default:a(()=>[e(y,{class:j(`bg-${o.color} text-white q-py-sm`)},{default:a(()=>[e(C,{name:t.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),m("span",te,x(t.title),1)]),_:1},8,["class"]),e(y,{class:"q-mt-md"},{default:a(()=>[R(x(t.message),1)]),_:1}),e(B,{align:"right"},{default:a(()=>[e(O,{flat:"",label:"Dismiss",onClick:n(c)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),ae={class:"text-h5"},le=T({__name:"InspectionDialog",props:{record:{},table:{}},emits:[...g.emits],setup(l){const o=l,{dialogRef:i,onDialogHide:u,onDialogOK:c}=g(),t=Y(),s=o.table===N.LOGS?I.getFieldComponents():S.getFieldComponents(o.table),p=o.table===N.LOGS?I.getLabel("singular"):S.getLabel(o.table,"singular");return Object.keys(o.record).map(f=>{t.record[f]=o.record[f]}),U(()=>{t.$reset()}),(f,q)=>(r(),h(H,{ref_key:"dialogRef",ref:i,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:n(u)},{default:a(()=>[e(P,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:a(()=>[e(C,{name:n(b).INSPECT,size:"sm",class:"q-mx-sm"},null,8,["name"]),e(E,null,{default:a(()=>[R("Inspect")]),_:1}),e(O,{flat:"",round:"",icon:n(b).CLOSE,onClick:n(c)},null,8,["icon","onClick"])]),_:1}),e($,{class:"q-dialog-plugin"},{default:a(()=>[e(y,null,{default:a(()=>[m("p",ae,x(n(p)),1),(r(!0),k(A,null,V(n(s),(Q,_)=>(r(),k("div",{key:_,class:"q-mb-md"},[(r(),h(F(Q),{inspecting:!0}))]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),ie={key:0},re={class:"row justify-center"},ce=m("p",{class:"text-body1"},"An error has occurred",-1),de={key:1},ue={class:"row justify-center"},me=m("p",{class:"text-body1"},"This content was not found",-1),pe={key:2},fe={class:"row justify-center"},ge=m("p",{class:"text-body1"},"No data available",-1),_e=T({__name:"ErrorStates",props:{error:{}},setup(l){return(o,i)=>o.error==="unknown"?(r(),k("div",ie,[m("div",re,[e(C,{class:"col-12 text-center q-mb-sm",name:n(b).WARN,size:"80px",color:"warning"},null,8,["name"]),ce])])):o.error==="not-found"?(r(),k("div",de,[m("div",ue,[e(C,{class:"col-12 text-center q-mb-sm",name:n(b).NOT_FOUND,size:"80px",color:"accent"},null,8,["name"]),me])])):o.error==="no-data"?(r(),k("div",pe,[m("div",fe,[e(C,{class:"col-12 text-center q-mb-sm",name:n(b).EMPTY,size:"80px",color:"grey"},null,8,["name"]),ge])])):G("",!0)}}),he={class:"text-h5"},be=m("p",null,"Select how far back you want the charts to display.",-1),Ce=T({__name:"ChartingDialog",props:{id:{},parentTable:{}},emits:[...g.emits],setup(l){const o=l,{dialogRef:i,onDialogHide:u,onDialogOK:c}=g(),t=J(),s=z(null),p=z([d[d["One Week"]],d[d["One Month"]],d[d["Three Months"]],d[d["Six Months"]],d[d["One Year"]],d[d["All Time"]]]),f=S.getChartComponents(o.parentTable),q=S.getLabel(o.parentTable,"singular");function Q(_){return _!=null&&_!==""}return(_,v)=>(r(),h(H,{ref_key:"dialogRef",ref:i,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:n(u)},{default:a(()=>[e(P,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:a(()=>[e(C,{name:n(b).CHARTS,size:"sm",class:"q-mx-sm"},null,8,["name"]),e(E,null,{default:a(()=>[R("Charts")]),_:1}),e(O,{flat:"",round:"",icon:n(b).CLOSE,onClick:n(c)},null,8,["icon","onClick"])]),_:1}),e($,{class:"q-dialog-plugin"},{default:a(()=>[n(f).length>0?(r(),h(y,{key:0},{default:a(()=>[m("p",he,x(n(q)),1),be,e(Z,{modelValue:n(t).chartTime,"onUpdate:modelValue":v[0]||(v[0]=D=>n(t).chartTime=D),ref_key:"inputRef",ref:s,label:"Chart Time",options:p.value,rules:[D=>Q(D)||"Required"],"emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary",onBlur:v[1]||(v[1]=D=>{var w,L;return!!((L=(w=s.value)==null?void 0:w.value)!=null&&L.validate())})},null,8,["modelValue","options","rules"]),(r(!0),k(A,null,V(n(f),(D,w)=>(r(),k("div",{key:w,class:"q-mb-md"},[(r(),h(F(D),{id:_.id,parentTable:_.parentTable},null,8,["id","parentTable"]))]))),128))]),_:1})):(r(),h(_e,{key:1,error:"no-data"}))]),_:1})]),_:1},8,["onHide"]))}});function Oe(){const l=W();function o(t,s,p,f,q){l.dialog({component:ne,componentProps:{title:t,message:s,icon:p,color:f}}).onOk(()=>{q()})}function i(t,s,p=b.INFO,f="info"){l.dialog({component:se,componentProps:{title:t,message:s,icon:p,color:f}})}function u(t,s){l.dialog({component:le,componentProps:{record:t,table:s}})}function c(t,s){l.dialog({component:Ce,componentProps:{id:t,parentTable:s}})}return{confirmDialog:o,dismissDialog:i,inspectDialog:u,chartsDialog:c}}export{_e as _,Oe as u};
