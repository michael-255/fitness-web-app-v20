import{k as d,r as l,aO as i,R as c,m as p,G as v,t as f,v as _,x as o,p as b,c4 as h,a0 as y,O as E}from"./index-b13a5788.js";import{u as N}from"./useParentIdWatcher-3c31ac76.js";import{u as C}from"./action-823aca0e.js";import{u as V}from"./useRouting-3262c112.js";const P={key:0},g={class:"text-weight-bold text-body1"},B=d({__name:"FieldPercent",setup(x){const{route:n}=V(),t=C(),u=l(!1),r=l({});N(e=>{r.value=e.previousChild,(e==null?void 0:e.measurementInput)===i.PERCENT?(n.name===c.CREATE&&(delete t.record.bodyWeight,t.record.percent=void 0,delete t.record.inches,delete t.record.number),u.value=!0):u.value=!1});function m(){var e,s;return n.name===c.EDIT?(e=r.value)!=null&&e.percent?`Currently ${r.value.percent}%`:"No previous value":(s=r.value)!=null&&s.percent?`Previously ${r.value.percent}%`:"No previous value"}return(e,s)=>u.value?(p(),v("div",P,[f("div",g,_(o(i).PERCENT),1),b(y,{modelValue:o(t).record.percent,"onUpdate:modelValue":s[0]||(s[0]=a=>o(t).record.percent=a),modelModifiers:{number:!0},rules:[a=>o(h).safeParse(a).success||"Must be between 1 and 100"],type:"number","lazy-rules":"",dense:"",outlined:"",color:"primary",hint:m()},null,8,["modelValue","rules","hint"])])):E("",!0)}});export{B as default};
