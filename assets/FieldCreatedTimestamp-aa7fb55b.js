import{k,r as i,l as x,D as V,bn as m,m as _,G as T,p as a,w as n,z as u,x as v,I as D,t as C,H as d,a1 as g,L as A}from"./index-3058d064.js";import{Q as M,a as H,C as p,b as q}from"./ClosePopup-9f00dece.js";import{u as P}from"./useRouting-23e7ca31.js";import{u as Q}from"./action-3e7e5407.js";import"./QMenu-e46fbb4e.js";import"./selection-9f312b7a.js";import"./TouchPan-24988c09.js";const B=C("div",{class:"text-weight-bold text-body1"},"Created Date",-1),E={class:"row items-center justify-end q-gutter-sm"},$={class:"row items-center justify-end q-gutter-sm"},F=k({__name:"FieldCreatedTimestamp",setup(I){const{routeTable:y,routeId:Y}=P(),b=Q(),r=i(void 0),c=i(""),o=i(""),s=i("");x(async()=>{var t;Y?r.value=((t=await V.getRecord(y,Y))==null?void 0:t.createdTimestamp)??Date.now():r.value=Date.now(),o.value=m.formatDate(r.value,"ddd MMM DD YYYY"),s.value=m.formatDate(r.value,"HH:mm:00"),f(r.value)});function f(t=Date.now()){b.record.createdTimestamp=t,c.value=m.formatDate(t,"ddd, YYYY MMM Do, h:mm A")}function w(){o.value=o.value?o.value:m.formatDate(Date.now(),"ddd MMM DD YYYY"),s.value=s.value?s.value:m.formatDate(Date.now(),"HH:mm:00");const t=new Date(`${o.value} ${s.value}`).getTime();f(t)}return(t,e)=>(_(),T(A,null,[B,a(g,{modelValue:c.value,"onUpdate:modelValue":e[5]||(e[5]=l=>c.value=l),dense:"",outlined:"",disable:"",color:"primary",hint:"Auto formatted"},{after:n(()=>[a(u,{icon:v(D).CALENDAR_DATE,color:"primary",class:"q-px-sm"},{default:n(()=>[a(M,null,{default:n(()=>[a(H,{modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value=l),mask:"ddd MMM DD YYYY"},{default:n(()=>[C("div",E,[d(a(u,{label:"Cancel",flat:""},null,512),[[p]]),d(a(u,{label:"OK",color:"primary",flat:"",onClick:e[0]||(e[0]=l=>w())},null,512),[[p]])])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["icon"]),a(u,{icon:v(D).CLOCK,color:"primary",class:"q-ml-sm q-px-sm"},{default:n(()=>[a(M,null,{default:n(()=>[a(q,{modelValue:s.value,"onUpdate:modelValue":e[3]||(e[3]=l=>s.value=l),mask:"HH:mm:00","now-btn":""},{default:n(()=>[C("div",$,[d(a(u,{label:"Cancel",flat:""},null,512),[[p]]),d(a(u,{label:"OK",color:"primary",flat:"",onClick:e[2]||(e[2]=l=>w())},null,512),[[p]])])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["icon"]),a(u,{icon:v(D).CALENDAR_CHECK,color:"positive",class:"q-ml-sm q-px-sm",onClick:e[4]||(e[4]=l=>f())},null,8,["icon"])]),_:1},8,["modelValue"])],64))}});export{F as default};
