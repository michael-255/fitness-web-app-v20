import{g as F,r as L,k as w,m as s,n as v,w as l,x as o,C as R,p as e,q,b2 as j,Q as x,t as p,v as g,K as Q,V as P,z as T,B as z,a1 as E,$ as V,D as I,l as U,ao as G,_ as W,I as C,b5 as A,b4 as K,G as c,M as S,L as H,O as N,aJ as m,ap as Y,bH as J}from"./index-26174ac4.js";import{u as X}from"./action-c3948de2.js";import{Q as Z}from"./QSelect-4607d717.js";import{u as ee}from"./ui-327ae146.js";const oe=()=>!0;function te(i){const n={};return i.forEach(r=>{n[r]=oe}),n}function b(){const{emit:i,proxy:n}=F(),r=L(null);function f(){r.value.show()}function d(){r.value.hide()}function t(h){i("ok",h),d()}function a(){i("hide")}return Object.assign(n,{show:f,hide:d}),{dialogRef:r,onDialogHide:a,onDialogOK:t,onDialogCancel:d}}const M=["ok","hide"];b.emits=M;b.emitsObject=te(M);const ne={class:"text-h6"},se=w({__name:"ConfirmationDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...b.emits],setup(i){const n=i,{dialogRef:r,onDialogHide:f,onDialogOK:d,onDialogCancel:t}=b();return(a,h)=>(s(),v(R,{ref_key:"dialogRef",ref:r,onHide:o(f)},{default:l(()=>[e(z,{class:"q-dialog-plugin"},{default:l(()=>[e(q,{class:j(`bg-${n.color} text-white q-py-sm`)},{default:l(()=>[e(x,{name:a.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),p("span",ne,g(a.title),1)]),_:1},8,["class"]),e(q,{class:"q-mt-md"},{default:l(()=>[Q(g(a.message),1)]),_:1}),e(P,{align:"right"},{default:l(()=>[e(T,{flat:"",label:"Cancel",onClick:o(t)},null,8,["onClick"]),e(T,{flat:"",label:"Confirm",color:a.color,onClick:o(d)},null,8,["color","onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),ae={class:"text-h6"},le=w({__name:"DismissalDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...b.emits],setup(i){const n=i,{dialogRef:r,onDialogHide:f,onDialogOK:d}=b();return(t,a)=>(s(),v(R,{ref_key:"dialogRef",ref:r,onHide:o(f)},{default:l(()=>[e(z,{class:"q-dialog-plugin"},{default:l(()=>[e(q,{class:j(`bg-${n.color} text-white q-py-sm`)},{default:l(()=>[e(x,{name:t.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),p("span",ae,g(t.title),1)]),_:1},8,["class"]),e(q,{class:"q-mt-md"},{default:l(()=>[Q(g(t.message),1)]),_:1}),e(P,{align:"right"},{default:l(()=>[e(T,{flat:"",label:"Dismiss",onClick:o(d)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),ie={class:"text-h5"},re={key:0},ce={class:"text-weight-bold text-body1"},de={key:0},ue={key:1},me={key:2},pe=w({__name:"InspectionDialog",props:{record:{},table:{}},emits:[...b.emits],setup(i){const n=i,{dialogRef:r,onDialogHide:f,onDialogOK:d}=b(),t=X(),a=n.table===E.LOGS?V.getInspectionItems():I.getInspectionItems(n.table),h=n.table===E.LOGS?V.getLabel("singular"):I.getLabel(n.table,"singular");return U(async()=>{G(!0,t.record,n.record)}),W(()=>{t.$reset()}),(D,O)=>(s(),v(R,{ref_key:"dialogRef",ref:r,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:o(f)},{default:l(()=>[e(K,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:l(()=>[e(x,{name:o(C).INSPECT,size:"sm",class:"q-mx-sm"},null,8,["name"]),e(A,null,{default:l(()=>[Q("Inspect")]),_:1}),e(T,{flat:"",round:"",icon:o(C).CLOSE,onClick:o(d)},null,8,["icon","onClick"])]),_:1}),e(z,{class:"q-dialog-plugin"},{default:l(()=>[e(q,null,{default:l(()=>[p("p",ie,g(o(h)),1),(s(!0),c(H,null,S(o(a),(u,k)=>(s(),c("div",{key:k,class:"q-mb-md"},[o(t).record[u.field]!==void 0?(s(),c("div",re,[p("div",ce,g(u.label),1),u.output==="single"?(s(),c("div",de,g(u.format(o(t).record[u.field])),1)):u.output==="list"?(s(),c("div",ue,[(s(!0),c(H,null,S(o(t).record[u.field],(y,_)=>(s(),c("li",{key:_,class:"q-ml-sm"},g(u.format(y)),1))),128))])):u.output==="key-values"?(s(),c("div",me,[(s(!0),c(H,null,S(o(t).record[u.field],(y,_)=>(s(),c("li",{key:_,class:"q-ml-sm"},g(_)+": "+g(y),1))),128))])):N("",!0)])):N("",!0)]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),fe={key:0},_e={class:"row justify-center"},ge=p("p",{class:"text-body1"},"An error has occurred",-1),he={key:1},be={class:"row justify-center"},ke=p("p",{class:"text-body1"},"This content was not found",-1),ye={key:2},Ce={class:"row justify-center"},De=p("p",{class:"text-body1"},"No data available",-1),ve=w({__name:"ErrorStates",props:{error:{}},setup(i){return(n,r)=>n.error==="unknown"?(s(),c("div",fe,[p("div",_e,[e(x,{class:"col-12 text-center q-mb-sm",name:o(C).WARN,size:"80px",color:"warning"},null,8,["name"]),ge])])):n.error==="not-found"?(s(),c("div",he,[p("div",be,[e(x,{class:"col-12 text-center q-mb-sm",name:o(C).NOT_FOUND,size:"80px",color:"accent"},null,8,["name"]),ke])])):n.error==="no-data"?(s(),c("div",ye,[p("div",Ce,[e(x,{class:"col-12 text-center q-mb-sm",name:o(C).EMPTY,size:"80px",color:"grey"},null,8,["name"]),De])])):N("",!0)}}),xe={class:"text-h5"},qe=p("p",null,"Select how far back you want the charts to display.",-1),Te=w({__name:"ChartingDialog",props:{id:{},parentTable:{}},emits:[...b.emits],setup(i){const n=i,{dialogRef:r,onDialogHide:f,onDialogOK:d}=b(),t=ee(),a=L(null),h=L([m[m["One Week"]],m[m["One Month"]],m[m["Three Months"]],m[m["Six Months"]],m[m["One Year"]],m[m["All Time"]]]),D=I.getChartComponents(n.parentTable),O=I.getLabel(n.parentTable,"singular");function u(k){return k!=null&&k!==""}return(k,y)=>(s(),v(R,{ref_key:"dialogRef",ref:r,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:o(f)},{default:l(()=>[e(K,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:l(()=>[e(x,{name:o(C).CHARTS,size:"sm",class:"q-mx-sm"},null,8,["name"]),e(A,null,{default:l(()=>[Q("Charts")]),_:1}),e(T,{flat:"",round:"",icon:o(C).CLOSE,onClick:o(d)},null,8,["icon","onClick"])]),_:1}),e(z,{class:"q-dialog-plugin"},{default:l(()=>[o(D).length>0?(s(),v(q,{key:0},{default:l(()=>[p("p",xe,g(o(O)),1),qe,e(Z,{modelValue:o(t).chartTime,"onUpdate:modelValue":y[0]||(y[0]=_=>o(t).chartTime=_),ref_key:"inputRef",ref:a,label:"Chart Time",options:h.value,rules:[_=>u(_)||"Required"],"emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary",onBlur:y[1]||(y[1]=_=>{var $,B;return!!((B=($=a.value)==null?void 0:$.value)!=null&&B.validate())})},null,8,["modelValue","options","rules"]),(s(!0),c(H,null,S(o(D),(_,$)=>(s(),c("div",{key:$,class:"q-mb-md"},[(s(),v(Y(_),{id:k.id,parentTable:k.parentTable},null,8,["id","parentTable"]))]))),128))]),_:1})):(s(),v(ve,{key:1,error:"no-data"}))]),_:1})]),_:1},8,["onHide"]))}});function He(){const i=J();function n(t,a,h,D,O){i.dialog({component:se,componentProps:{title:t,message:a,icon:h,color:D}}).onOk(()=>{O()})}function r(t,a,h=C.INFO,D="info"){i.dialog({component:le,componentProps:{title:t,message:a,icon:h,color:D}})}function f(t,a){i.dialog({component:pe,componentProps:{record:t,table:a}})}function d(t,a){i.dialog({component:Te,componentProps:{id:t,parentTable:a}})}return{confirmDialog:n,dismissDialog:r,inspectDialog:f,chartsDialog:d}}export{ve as _,He as u};
