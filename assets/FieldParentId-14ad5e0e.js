import{k as I,F as _,r as g,l as v,D as p,m as s,G as i,v as b,x as e,p as l,bA as y,R as u,w,Q as T,I as k,bB as B,L as S,t as m}from"./index-8596875a.js";import{Q as x}from"./QSelect-579acf59.js";import{u as D}from"./action-5374d455.js";import{u as P}from"./useRouting-297cfe85.js";import"./QItem-c77875af.js";import"./QItemLabel-4eb89e39.js";import"./QMenu-91bbc20f.js";import"./selection-5a997704.js";const R=m("div",{class:"text-weight-bold text-body1"},"Parent Record",-1),V={key:0},E={key:1},F=m("p",null," The parent record that this child record is associated with. This cannot be updated once set during record creation. ",-1),K=I({__name:"FieldParentId",props:{inspecting:{type:Boolean}},setup(Q){const{route:d,routeTable:c}=P(),{log:h}=_(),o=D(),a=g([]);v(async()=>{try{if(c){const t=p.getParentTable(c);a.value=await p.getParentIdOptions(t),a.value.some(r=>r.value===o.record.parentId)||(o.record.parentId=void 0)}}catch(t){h.error("Error with parent id field",t)}});function f(t){return`${t||"-"}`}return(t,n)=>(s(),i(S,null,[R,t.inspecting?(s(),i("div",V,b(f(e(o).record.parentId)),1)):(s(),i("div",E,[F,l(x,{disable:e(d).name===e(u).EDIT,modelValue:e(o).record.parentId,"onUpdate:modelValue":n[0]||(n[0]=r=>e(o).record.parentId=r),rules:[r=>e(B).safeParse(r).success||"Required"],options:a.value,"emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary"},y({_:2},[e(d).name===e(u).EDIT?{name:"prepend",fn:w(()=>[l(T,{color:"warning",name:e(k).LOCK},null,8,["name"])]),key:"0"}:void 0]),1032,["disable","modelValue","rules","options"])]))],64))}});export{K as default};
