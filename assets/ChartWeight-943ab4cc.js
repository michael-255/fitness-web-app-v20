import{Q as L}from"./QBadge-6513a4e9.js";import{k,F as x,r as n,$ as h,l as S,D as i,aO as M,bn as R,m as c,G as p,t as g,v as f,x as l,p as _,w as V,n as W,O as Y}from"./index-ffd0294f.js";import{C as G,p as N,a as O,b as H,B as I,c as P,L as Q,P as $,d as q,u as F,e as U,f as j}from"./useCharting-a986e035.js";import{_ as z}from"./ErrorStates.vue_vue_type_script_setup_true_lang-ff855ea3.js";import{u as A}from"./ui-c377fbe5.js";const J={key:0},K={key:0},X={class:"text-h6"},Z={class:"text-caption"},ne=k({__name:"ChartWeight",props:{id:{},parentTable:{}},setup(C){const a=C;G.register(N,O,H,I,P,Q,$,q);const{log:y}=x(),{getChartOptions:D,getChartData:b,getChartDataset:T}=j(),v=A(),d=n(!1),s=n(0),w=h.WEIGHT,m=n({labels:[],datasets:[]});S(async()=>{await u()}),F(u);async function u(){try{const{exerciseInputs:e}=await i.getRecord(a.parentTable,a.id);if((e==null?void 0:e.length)===0)return;e!=null&&e.includes(h.WEIGHT)&&(d.value=!0);const r=await i.getSortedChildren(i.getChildTable(a.parentTable),a.id);if(r.length===0)return;const o=r.filter(t=>new Date().getTime()-t.createdTimestamp<=M[v.chartTime]);s.value=o.length;const B=o.map(t=>R.formatDate(t.createdTimestamp,"YYYY MMM D")),E=o.map(t=>t.weightLbs);m.value=b(B,T(E,"primary","info"))}catch(e){y.error("Error loading exercise weight chart",e)}}return(e,r)=>d.value?(c(),p("section",J,[s.value>0?(c(),p("div",K,[g("div",X,f(l(w)),1),_(L,{rounded:"",color:"secondary",class:"q-py-none"},{default:V(()=>[g("span",Z,f(s.value)+" records in time frame",1)]),_:1}),_(l(U),{options:l(D)(),data:m.value,style:{"max-height":"500px"}},null,8,["options","data"])])):(c(),W(z,{key:1,error:"no-data"}))])):Y("",!0)}});export{ne as default};
