import{Q as B}from"./QBadge-732440d6.js";import{k,F as E,r as o,aR as p,l as I,D as i,aO as L,bn as w,m as c,G as h,t as f,v as g,x as l,p as _,w as N,n as M,O as R}from"./index-d3f8807d.js";import{C as V,p as Y,a as O,b as F,B as H,c as P,L as Q,P as q,d as G,u as U,e as W,f as $}from"./useCharting-533b9e1c.js";import{_ as j}from"./ErrorStates.vue_vue_type_script_setup_true_lang-1552c52c.js";import{u as z}from"./ui-1a8e0547.js";const A={key:0},J={key:0},K={class:"text-h6"},X={class:"text-caption"},ne=k({__name:"ChartInches",props:{id:{},parentTable:{}},setup(C){const a=C;V.register(Y,O,F,H,P,Q,q,G);const{log:y}=E(),{getSingleChartOptions:b,getSingleChartDataset:D}=$(),v=z(),m=o(!1),s=o(0),S=p.INCHES,d=o({labels:[],datasets:[]});I(async()=>{await u()}),U(u);async function u(){try{const{measurementInput:e}=await i.getRecord(a.parentTable,a.id);if(!e||e!==p.INCHES)return;const r=await i.getSortedChildren(i.getChildTable(a.parentTable),a.id);if(r.length===0)return;const n=r.filter(t=>new Date().getTime()-t.createdTimestamp<=L[v.chartTime]);s.value=n.length;const x=n.map(t=>w.formatDate(t.createdTimestamp,"YYYY MMM D")),T=n.map(t=>Number(t.inches.toFixed(2)));d.value={labels:x,datasets:[D(T,"primary","primary")]},m.value=!0}catch(e){y.error("Error loading measurement inches chart",e)}}return(e,r)=>m.value?(c(),h("section",A,[s.value>0?(c(),h("div",J,[f("div",K,g(l(S)),1),_(B,{rounded:"",color:"secondary",class:"q-py-none"},{default:N(()=>[f("span",X,g(s.value)+" records in time frame",1)]),_:1}),_(l(W),{options:l(b)(),data:d.value,style:{"max-height":"500px"}},null,8,["options","data"])])):(c(),M(j,{key:1,error:"no-data"}))])):R("",!0)}});export{ne as default};
