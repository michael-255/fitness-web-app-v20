import{Q as k}from"./QBadge-6513a4e9.js";import{k as E,F as I,r as o,aR as p,l as L,D as i,aO as w,bn as M,m as c,G as h,t as f,v as g,x as l,p as _,w as N,n as R,O as V}from"./index-ffd0294f.js";import{C as Y,p as O,a as H,b as P,B as Q,c as q,L as F,P as G,d as U,u as W,e as $,f as j}from"./useCharting-a986e035.js";import{_ as z}from"./ErrorStates.vue_vue_type_script_setup_true_lang-ff855ea3.js";import{u as A}from"./ui-c377fbe5.js";const J={key:0},K={key:0},X={class:"text-h6"},Z={class:"text-caption"},oe=E({__name:"ChartInches",props:{id:{},parentTable:{}},setup(C){const a=C;Y.register(O,H,P,Q,q,F,G,U);const{log:y}=I(),{getChartOptions:D,getChartData:b,getChartDataset:v}=j(),T=A(),m=o(!1),s=o(0),x=p.INCHES,d=o({labels:[],datasets:[]});L(async()=>{await u()}),W(u);async function u(){try{const{measurementInput:e}=await i.getRecord(a.parentTable,a.id);if(!e)return;e===p.INCHES&&(m.value=!0);const r=await i.getSortedChildren(i.getChildTable(a.parentTable),a.id);if(r.length===0)return;const n=r.filter(t=>new Date().getTime()-t.createdTimestamp<=w[T.chartTime]);s.value=n.length;const B=n.map(t=>M.formatDate(t.createdTimestamp,"YYYY MMM D")),S=n.map(t=>t.inches);d.value=b(B,v(S,"primary","info"))}catch(e){y.error("Error loading measurement inches chart",e)}}return(e,r)=>m.value?(c(),h("section",J,[s.value>0?(c(),h("div",K,[f("div",X,g(l(x)),1),_(k,{rounded:"",color:"secondary",class:"q-py-none"},{default:N(()=>[f("span",Z,g(s.value)+" records in time frame",1)]),_:1}),_(l($),{options:l(D)(),data:d.value,style:{"max-height":"500px"}},null,8,["options","data"])])):(c(),R(z,{key:1,error:"no-data"}))])):V("",!0)}});export{oe as default};
