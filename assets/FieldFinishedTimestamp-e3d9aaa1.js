import{k as y,r as f,l as T,bl as d,a6 as _,m as b,G as w,p as a,w as i,z as n,x as v,I as D,t as Y,H as u,a0 as x,L as V}from"./index-26174ac4.js";import{Q as M,a as A,C as p,b as q}from"./ClosePopup-763b2f40.js";import{u as H}from"./action-c3948de2.js";import"./QMenu-f6a9d5ab.js";import"./selection-0290b496.js";import"./TouchPan-4eef2b06.js";const g=Y("div",{class:"text-weight-bold text-body1"},"Finished Date",-1),h={class:"row items-center justify-end q-gutter-sm"},P={class:"row items-center justify-end q-gutter-sm"},U=y({__name:"FieldFinishedTimestamp",setup(Q){const m=H(),r=f(""),o=f(""),s=f("");T(()=>{o.value=d.formatDate(m.record.finishedTimestamp,"ddd MMM DD YYYY"),s.value=d.formatDate(m.record.finishedTimestamp,"HH:mm:00"),c(m.record.finishedTimestamp)});function c(t){m.record.finishedTimestamp=t,r.value=d.formatDate(t,"ddd, YYYY MMM Do, h:mm A")}function C(){o.value=o.value?o.value:d.formatDate(Date.now(),"ddd MMM DD YYYY"),s.value=s.value?s.value:d.formatDate(Date.now(),"HH:mm:00");const t=new Date(`${o.value} ${s.value}`).getTime();c(t)}function k(){m.record.finishedTimestamp=void 0,r.value=void 0}return _(()=>m.record.finishedTimestamp,(t,e)=>{t!==e&&c(t)}),(t,e)=>(b(),w(V,null,[g,a(x,{modelValue:r.value,"onUpdate:modelValue":e[5]||(e[5]=l=>r.value=l),dense:"",outlined:"",disable:"",color:"primary",hint:"Auto formatted"},{after:i(()=>[a(n,{icon:v(D).CALENDAR_DATE,color:"primary",class:"q-px-sm"},{default:i(()=>[a(M,null,{default:i(()=>[a(A,{modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value=l),mask:"ddd MMM DD YYYY"},{default:i(()=>[Y("div",h,[u(a(n,{label:"Cancel",flat:""},null,512),[[p]]),u(a(n,{label:"OK",color:"primary",flat:"",onClick:e[0]||(e[0]=l=>C())},null,512),[[p]])])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["icon"]),a(n,{icon:v(D).CLOCK,color:"primary",class:"q-ml-sm q-px-sm"},{default:i(()=>[a(M,null,{default:i(()=>[a(q,{modelValue:s.value,"onUpdate:modelValue":e[3]||(e[3]=l=>s.value=l),mask:"HH:mm:00","now-btn":""},{default:i(()=>[Y("div",P,[u(a(n,{label:"Cancel",flat:""},null,512),[[p]]),u(a(n,{label:"OK",color:"primary",flat:"",onClick:e[2]||(e[2]=l=>C())},null,512),[[p]])])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["icon"]),a(n,{icon:v(D).CALENDAR_CLEAR,color:"negative",class:"q-ml-sm q-px-sm",onClick:e[4]||(e[4]=l=>k())},null,8,["icon"])]),_:1},8,["modelValue"])],64))}});export{U as default};
