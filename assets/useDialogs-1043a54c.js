import{g as F,r as N,k as O,m as s,n as v,w as l,x as o,C as E,p as e,q as T,aO as P,Q as x,t as p,v as g,K as H,T as V,z as w,B as Q,a0 as M,_ as B,D as q,l as G,an as W,V as A,Z as Y,I as D,aP as j,aQ as K,G as c,M as $,L as I,O as z,aK as m,ao as Z,aR as J}from"./index-41950ac7.js";import{u as X}from"./action-0d1cdd0a.js";import{Q as ee}from"./QSelect-fddb2898.js";import{u as oe}from"./ui-faa3ee60.js";const te=()=>!0;function ne(i){const n={};return i.forEach(r=>{n[r]=te}),n}function k(){const{emit:i,proxy:n}=F(),r=N(null);function f(){r.value.show()}function d(){r.value.hide()}function t(h){i("ok",h),d()}function a(){i("hide")}return Object.assign(n,{show:f,hide:d}),{dialogRef:r,onDialogHide:a,onDialogOK:t,onDialogCancel:d}}const U=["ok","hide"];k.emits=U;k.emitsObject=ne(U);const se={class:"text-h6"},ae=O({__name:"ConfirmationDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...k.emits],setup(i){const n=i,{dialogRef:r,onDialogHide:f,onDialogOK:d,onDialogCancel:t}=k();return(a,h)=>(s(),v(E,{ref_key:"dialogRef",ref:r,onHide:o(f)},{default:l(()=>[e(Q,{class:"q-dialog-plugin"},{default:l(()=>[e(T,{class:P(`bg-${n.color} text-white q-py-sm`)},{default:l(()=>[e(x,{name:a.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),p("span",se,g(a.title),1)]),_:1},8,["class"]),e(T,{class:"q-mt-md"},{default:l(()=>[H(g(a.message),1)]),_:1}),e(V,{align:"right"},{default:l(()=>[e(w,{flat:"",label:"Cancel",onClick:o(t)},null,8,["onClick"]),e(w,{flat:"",label:"Confirm",color:a.color,onClick:o(d)},null,8,["color","onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),le={class:"text-h6"},ie=O({__name:"DismissalDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...k.emits],setup(i){const n=i,{dialogRef:r,onDialogHide:f,onDialogOK:d}=k();return(t,a)=>(s(),v(E,{ref_key:"dialogRef",ref:r,onHide:o(f)},{default:l(()=>[e(Q,{class:"q-dialog-plugin"},{default:l(()=>[e(T,{class:P(`bg-${n.color} text-white q-py-sm`)},{default:l(()=>[e(x,{name:t.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),p("span",le,g(t.title),1)]),_:1},8,["class"]),e(T,{class:"q-mt-md"},{default:l(()=>[H(g(t.message),1)]),_:1}),e(V,{align:"right"},{default:l(()=>[e(w,{flat:"",label:"Dismiss",onClick:o(d)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),re={class:"text-h5"},ce={class:"text-weight-bold text-body1"},de={key:0},ue={key:0},me={key:1},pe={key:2},fe=O({__name:"InspectionDialog",props:{record:{},table:{}},emits:[...k.emits],setup(i){const n=i,{dialogRef:r,onDialogHide:f,onDialogOK:d}=k(),t=X(),a=n.table===M.LOGS?B.getInspectionItems():q.getInspectionItems(n.table),h=n.table===M.LOGS?B.getLabel("singular"):q.getLabel(n.table,"singular");return G(async()=>{if(W(!0,t.record,n.record),n.table===A.MEASUREMENT_RESULTS){const b=await q.getRecord(A.MEASUREMENTS,n.record.parentId);b&&(t.measurementInput=b.measurementInput)}}),Y(()=>{t.$reset()}),(b,S)=>(s(),v(E,{ref_key:"dialogRef",ref:r,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:o(f)},{default:l(()=>[e(K,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:l(()=>[e(x,{name:o(D).INSPECT,size:"sm",class:"q-mx-sm"},null,8,["name"]),e(j,null,{default:l(()=>[H("Inspect")]),_:1}),e(w,{flat:"",round:"",icon:o(D).CLOSE,onClick:o(d)},null,8,["icon","onClick"])]),_:1}),e(Q,{class:"q-dialog-plugin"},{default:l(()=>[e(T,null,{default:l(()=>[p("p",re,g(o(h)),1),(s(!0),c(I,null,$(o(a),(u,y)=>(s(),c("div",{key:y,class:"q-mb-md"},[p("div",ce,g(u.label),1),o(t).record[u.field]!==void 0?(s(),c("div",de,[u.output==="single"?(s(),c("div",ue,g(u.format(o(t).record[u.field])),1)):u.output==="list"?(s(),c("div",me,[(s(!0),c(I,null,$(o(t).record[u.field],(C,_)=>(s(),c("li",{key:_,class:"q-ml-sm"},g(u.format(C)),1))),128))])):u.output==="key-values"?(s(),c("div",pe,[(s(!0),c(I,null,$(o(t).record[u.field],(C,_)=>(s(),c("li",{key:_,class:"q-ml-sm"},g(_)+": "+g(C),1))),128))])):z("",!0)])):z("",!0)]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),_e={key:0},ge={class:"row justify-center"},he=p("p",{class:"text-body1"},"An error has occurred",-1),be={key:1},ke={class:"row justify-center"},ye=p("p",{class:"text-body1"},"This content was not found",-1),Ce={key:2},De={class:"row justify-center"},ve=p("p",{class:"text-body1"},"No data available",-1),xe=O({__name:"ErrorStates",props:{error:{}},setup(i){return(n,r)=>n.error==="unknown"?(s(),c("div",_e,[p("div",ge,[e(x,{class:"col-12 text-center q-mb-sm",name:o(D).WARN,size:"80px",color:"warning"},null,8,["name"]),he])])):n.error==="not-found"?(s(),c("div",be,[p("div",ke,[e(x,{class:"col-12 text-center q-mb-sm",name:o(D).NOT_FOUND,size:"80px",color:"accent"},null,8,["name"]),ye])])):n.error==="no-data"?(s(),c("div",Ce,[p("div",De,[e(x,{class:"col-12 text-center q-mb-sm",name:o(D).EMPTY,size:"80px",color:"grey"},null,8,["name"]),ve])])):z("",!0)}}),Te={class:"text-h5"},qe=p("p",null,"Select how far back you want the charts to display.",-1),we=O({__name:"ChartingDialog",props:{id:{},parentTable:{}},emits:[...k.emits],setup(i){const n=i,{dialogRef:r,onDialogHide:f,onDialogOK:d}=k(),t=oe(),a=N(null),h=N([m[m["One Week"]],m[m["One Month"]],m[m["Three Months"]],m[m["Six Months"]],m[m["One Year"]],m[m["All Time"]]]),b=q.getChartComponents(n.parentTable),S=q.getLabel(n.parentTable,"singular");function u(y){return y!=null&&y!==""}return(y,C)=>(s(),v(E,{ref_key:"dialogRef",ref:r,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:o(f)},{default:l(()=>[e(K,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:l(()=>[e(x,{name:o(D).CHARTS,size:"sm",class:"q-mx-sm"},null,8,["name"]),e(j,null,{default:l(()=>[H("Charts")]),_:1}),e(w,{flat:"",round:"",icon:o(D).CLOSE,onClick:o(d)},null,8,["icon","onClick"])]),_:1}),e(Q,{class:"q-dialog-plugin"},{default:l(()=>[o(b).length>0?(s(),v(T,{key:0},{default:l(()=>[p("p",Te,g(o(S)),1),qe,e(ee,{modelValue:o(t).chartTime,"onUpdate:modelValue":C[0]||(C[0]=_=>o(t).chartTime=_),ref_key:"inputRef",ref:a,label:"Chart Time",options:h.value,rules:[_=>u(_)||"Required"],"emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary",onBlur:C[1]||(C[1]=_=>{var R,L;return!!((L=(R=a.value)==null?void 0:R.value)!=null&&L.validate())})},null,8,["modelValue","options","rules"]),(s(!0),c(I,null,$(o(b),(_,R)=>(s(),c("div",{key:R,class:"q-mb-md"},[(s(),v(Z(_),{id:y.id,parentTable:y.parentTable},null,8,["id","parentTable"]))]))),128))]),_:1})):(s(),v(xe,{key:1,error:"no-data"}))]),_:1})]),_:1},8,["onHide"]))}});function Ie(){const i=J();function n(t,a,h,b,S){i.dialog({component:ae,componentProps:{title:t,message:a,icon:h,color:b}}).onOk(()=>{S()})}function r(t,a,h=D.INFO,b="info"){i.dialog({component:ie,componentProps:{title:t,message:a,icon:h,color:b}})}function f(t,a){i.dialog({component:fe,componentProps:{record:t,table:a}})}function d(t,a){i.dialog({component:we,componentProps:{id:t,parentTable:a}})}return{confirmDialog:n,dismissDialog:r,inspectDialog:f,chartsDialog:d}}export{xe as _,Ie as u};
