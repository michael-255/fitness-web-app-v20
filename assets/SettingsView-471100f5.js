import{g as ae,r as B,e as o,at as He,s as fe,au as Xe,h as C,c as Le,av as Ze,a as Fe,aw as et,ax as tt,ay as at,az as lt,ak as nt,aA as ot,aB as Ce,aC as st,aD as rt,a4 as it,ae as ut,ag as de,ab as ct,a3 as dt,j as J,aE as vt,aF as mt,i as ft,d as bt,a5 as pt,k as gt,U as ht,A as ve,F as yt,aG as St,aH as I,D as q,S as V,Z as kt,m as xe,n as _e,w as me,t as i,p as R,z as G,x as w,aI as Z,Q as Ct,I as U,aJ as xt,O as _t,aK as wt,V as Dt}from"./index-8596875a.js";import{b as Lt}from"./QSelect-579acf59.js";import{T as Ft}from"./TouchPan-77ae9e67.js";import{u as Tt}from"./useDialogs-f3ccf2ed.js";import{_ as $t}from"./ResponsivePage.vue_vue_type_script_setup_true_lang-81b03c32.js";import{u as Et}from"./useRouting-297cfe85.js";import"./QItem-c77875af.js";import"./QItemLabel-4eb89e39.js";import"./QMenu-91bbc20f.js";import"./selection-5a997704.js";import"./action-5374d455.js";import"./ui-e95edf17.js";function Y(a,r,L,c){const e=[];return a.forEach(g=>{c(g)===!0?e.push(g):r.push({failedPropValidation:L,file:g})}),e}function te(a){a&&a.dataTransfer&&(a.dataTransfer.dropEffect="copy"),fe(a)}const Mt={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Nt=["rejected"];function Rt({editable:a,dnd:r,getFileInput:L,addFilesToQueue:c}){const{props:e,emit:g,proxy:k}=ae(),m=B(null),T=o(()=>e.accept!==void 0?e.accept.split(",").map(s=>(s=s.trim(),s==="*"?"*/":(s.endsWith("/*")&&(s=s.slice(0,s.length-1)),s.toUpperCase()))):null),x=o(()=>parseInt(e.maxFiles,10)),D=o(()=>parseInt(e.maxTotalSize,10));function A(s){if(a.value)if(s!==Object(s)&&(s={target:null}),s.target!==null&&s.target.matches('input[type="file"]')===!0)s.clientX===0&&s.clientY===0&&He(s);else{const d=L();d&&d!==s.target&&d.click(s)}}function $(s){a.value&&s&&c(null,s)}function z(s,d,u,n){let l=Array.from(d||s.target.files);const b=[],P=()=>{b.length!==0&&g("rejected",b)};if(e.accept!==void 0&&T.value.indexOf("*/")===-1&&(l=Y(l,b,"accept",p=>T.value.some(_=>p.type.toUpperCase().startsWith(_)||p.name.toUpperCase().endsWith(_))),l.length===0))return P();if(e.maxFileSize!==void 0){const p=parseInt(e.maxFileSize,10);if(l=Y(l,b,"max-file-size",_=>_.size<=p),l.length===0)return P()}if(e.multiple!==!0&&l.length!==0&&(l=[l[0]]),l.forEach(p=>{p.__key=p.webkitRelativePath+p.lastModified+p.name+p.size}),n===!0){const p=u.map(_=>_.__key);l=Y(l,b,"duplicate",_=>p.includes(_.__key)===!1)}if(l.length===0)return P();if(e.maxTotalSize!==void 0){let p=n===!0?u.reduce((_,W)=>_+W.size,0):0;if(l=Y(l,b,"max-total-size",_=>(p+=_.size,p<=D.value)),l.length===0)return P()}if(typeof e.filter=="function"){const p=e.filter(l);l=Y(l,b,"filter",_=>p.includes(_))}if(e.maxFiles!==void 0){let p=n===!0?u.length:0;if(l=Y(l,b,"max-files",()=>(p++,p<=x.value)),l.length===0)return P()}if(P(),l.length!==0)return l}function F(s){te(s),r.value!==!0&&(r.value=!0)}function h(s){fe(s),(s.relatedTarget!==null||Xe.is.safari!==!0?s.relatedTarget!==m.value:document.elementsFromPoint(s.clientX,s.clientY).includes(m.value)===!1)===!0&&(r.value=!1)}function N(s){te(s);const d=s.dataTransfer.files;d.length!==0&&c(null,d),r.value=!1}function O(s){if(r.value===!0)return C("div",{ref:m,class:`q-${s}__dnd absolute-full`,onDragenter:te,onDragover:te,onDragleave:h,onDrop:N})}return Object.assign(k,{pickFiles:A,addFiles:$}),{pickFiles:A,addFiles:$,onDragover:F,onDragleave:h,processFiles:z,getDndNode:O,maxFilesNumber:x,maxTotalSizeNumber:D}}const Ot=Le({name:"QFile",inheritAttrs:!1,props:{...Ze,...Fe,...Mt,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...et,...Nt],setup(a,{slots:r,emit:L,attrs:c}){const{proxy:e}=ae(),g=tt(),k=B(null),m=B(!1),T=at(a),{pickFiles:x,onDragover:D,onDragleave:A,processFiles:$,getDndNode:z}=Rt({editable:g.editable,dnd:m,getFileInput:H,addFilesToQueue:ee}),F=lt(a),h=o(()=>Object(a.modelValue)===a.modelValue?"length"in a.modelValue?Array.from(a.modelValue):[a.modelValue]:[]),N=o(()=>Ce(h.value)),O=o(()=>h.value.map(v=>v.name).join(", ")),s=o(()=>st(h.value.reduce((v,E)=>v+E.size,0))),d=o(()=>({totalSize:s.value,filesNumber:h.value.length,maxFiles:a.maxFiles})),u=o(()=>({tabindex:-1,type:"file",title:"",accept:a.accept,capture:a.capture,name:T.value,...c,id:g.targetUid.value,disabled:g.editable.value!==!0})),n=o(()=>"q-file q-field--auto-height"+(m.value===!0?" q-file--dnd":"")),l=o(()=>a.multiple===!0&&a.append===!0);function b(v){const E=h.value.slice();E.splice(v,1),p(E)}function P(v){const E=h.value.indexOf(v);E>-1&&b(E)}function p(v){L("update:modelValue",a.multiple===!0?v:v[0])}function _(v){v.keyCode===13&&rt(v)}function W(v){(v.keyCode===13||v.keyCode===32)&&x(v)}function H(){return k.value}function ee(v,E){const j=$(v,E,h.value,l.value),X=H();X!=null&&(X.value=""),j!==void 0&&((a.multiple===!0?a.modelValue&&j.every(oe=>h.value.includes(oe)):a.modelValue===j[0])||p(l.value===!0?h.value.concat(j):j))}function Q(){return[C("input",{class:[a.inputClass,"q-file__filler"],style:a.inputStyle})]}function le(){if(r.file!==void 0)return h.value.length===0?Q():h.value.map((E,j)=>r.file({index:j,file:E,ref:this}));if(r.selected!==void 0)return h.value.length===0?Q():r.selected({files:h.value,ref:this});if(a.useChips===!0)return h.value.length===0?Q():h.value.map((E,j)=>C(Lt,{key:"file-"+j,removable:g.editable.value,dense:!0,textColor:a.color,tabindex:a.tabindex,onRemove:()=>{b(j)}},()=>C("span",{class:"ellipsis",textContent:E.name})));const v=a.displayValue!==void 0?a.displayValue:O.value;return v.length!==0?[C("div",{class:a.inputClass,style:a.inputStyle,textContent:v})]:Q()}function ne(){const v={ref:k,...u.value,...F.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:ee};return a.multiple===!0&&(v.multiple=!0),C("input",v)}return Object.assign(g,{fieldClass:n,emitValue:p,hasValue:N,inputRef:k,innerValue:h,floatingLabel:o(()=>N.value===!0||Ce(a.displayValue)),computedCounter:o(()=>{if(a.counterLabel!==void 0)return a.counterLabel(d.value);const v=a.maxFiles;return`${h.value.length}${v!==void 0?" / "+v:""} (${s.value})`}),getControlChild:()=>z("file"),getControl:()=>{const v={ref:g.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:a.tabindex};return g.editable.value===!0&&Object.assign(v,{onDragover:D,onDragleave:A,onKeydown:_,onKeyup:W}),C("div",v,[ne()].concat(le()))}}),Object.assign(e,{removeAtIndex:b,removeFile:P,getNativeElement:()=>k.value}),nt(e,"nativeEl",()=>k.value),ot(g)}}),we="q-slider__marker-labels",It=a=>({value:a}),qt=({marker:a})=>C("div",{key:a.value,style:a.style,class:a.classes},a.label),Te=[34,37,40,33,39,38],At={...dt,...Fe,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:a=>a>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Vt=["pan","update:modelValue","change"];function Bt({updateValue:a,updatePosition:r,getDragging:L,formAttrs:c}){const{props:e,emit:g,slots:k,proxy:{$q:m}}=ae(),T=it(e,m),x=ft(c),D=B(!1),A=B(!1),$=B(!1),z=B(!1),F=o(()=>e.vertical===!0?"--v":"--h"),h=o(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),N=o(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(m.lang.rtl===!0)),O=o(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),s=o(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),d=o(()=>e.disable!==!0&&e.readonly!==!0&&O.value<s.value),u=o(()=>(String(e.step).trim().split(".")[1]||"").length),n=o(()=>e.step===0?1:e.step),l=o(()=>d.value===!0?e.tabindex||0:-1),b=o(()=>e.max-e.min),P=o(()=>s.value-O.value),p=o(()=>se(O.value)),_=o(()=>se(s.value)),W=o(()=>e.vertical===!0?N.value===!0?"bottom":"top":N.value===!0?"right":"left"),H=o(()=>e.vertical===!0?"height":"width"),ee=o(()=>e.vertical===!0?"width":"height"),Q=o(()=>e.vertical===!0?"vertical":"horizontal"),le=o(()=>{const t={role:"slider","aria-valuemin":O.value,"aria-valuemax":s.value,"aria-orientation":Q.value,"data-step":e.step};return e.disable===!0?t["aria-disabled"]="true":e.readonly===!0&&(t["aria-readonly"]="true"),t}),ne=o(()=>`q-slider q-slider${F.value} q-slider--${D.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(d.value===!0?" q-slider--editable":""))+($.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(T.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+F.value:""));function v(t){const f="q-slider__"+t;return`${f} ${f}${F.value} ${f}${F.value}${h.value}`}function E(t){const f="q-slider__"+t;return`${f} ${f}${F.value}`}const j=o(()=>{const t=e.selectionColor||e.color;return"q-slider__selection absolute"+(t!==void 0?` text-${t}`:"")}),X=o(()=>E("markers")+" absolute overflow-hidden"),oe=o(()=>E("track-container")),$e=o(()=>v("pin")),Ee=o(()=>v("label")),Me=o(()=>v("text-container")),Ne=o(()=>v("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),Re=o(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),Oe=o(()=>{const t={[ee.value]:e.trackSize};return e.trackImg!==void 0&&(t.backgroundImage=`url(${e.trackImg}) !important`),t}),Ie=o(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),be=o(()=>{const t={[W.value]:`${100*p.value}%`,[H.value]:`${100*(_.value-p.value)}%`};return e.innerTrackImg!==void 0&&(t.backgroundImage=`url(${e.innerTrackImg}) !important`),t});function qe(t){const{min:f,max:y,step:S}=e;let M=f+t*(y-f);if(S>0){const K=(M-f)%S;M+=(Math.abs(K)>=S/2?(K<0?-1:1)*S:0)-K}return u.value>0&&(M=parseFloat(M.toFixed(u.value))),J(M,O.value,s.value)}function se(t){return b.value===0?0:(t-e.min)/b.value}function Ae(t,f){const y=vt(t),S=e.vertical===!0?J((y.top-f.top)/f.height,0,1):J((y.left-f.left)/f.width,0,1);return J(N.value===!0?1-S:S,p.value,_.value)}const pe=o(()=>ut(e.markers)===!0?e.markers:n.value),ge=o(()=>{const t=[],f=pe.value,y=e.max;let S=e.min;do t.push(S),S+=f;while(S<y);return t.push(y),t}),he=o(()=>{const t=` ${we}${F.value}-`;return we+`${t}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${t}${N.value===!0?"rtl":"ltr"}`}),re=o(()=>e.markerLabels===!1?null:Be(e.markerLabels).map((t,f)=>({index:f,value:t.value,label:t.label||t.value,classes:he.value+(t.classes!==void 0?" "+t.classes:""),style:{...Se(t.value),...t.style||{}}}))),ye=o(()=>({markerList:re.value,markerMap:ze.value,classes:he.value,getStyle:Se})),Ve=o(()=>{if(P.value!==0){const t=100*pe.value/P.value;return{...be.value,backgroundSize:e.vertical===!0?`2px ${t}%`:`${t}% 2px`}}return null});function Be(t){if(t===!1)return null;if(t===!0)return ge.value.map(It);if(typeof t=="function")return ge.value.map(y=>{const S=t(y);return de(S)===!0?{...S,value:y}:{value:y,label:S}});const f=({value:y})=>y>=e.min&&y<=e.max;return Array.isArray(t)===!0?t.map(y=>de(y)===!0?y:{value:y}).filter(f):Object.keys(t).map(y=>{const S=t[y],M=Number(y);return de(S)===!0?{...S,value:M}:{value:M,label:S}}).filter(f)}function Se(t){return{[W.value]:`${100*(t-e.min)/b.value}%`}}const ze=o(()=>{if(e.markerLabels===!1)return null;const t={};return re.value.forEach(f=>{t[f.value]=f}),t});function Pe(){if(k["marker-label-group"]!==void 0)return k["marker-label-group"](ye.value);const t=k["marker-label"]||qt;return re.value.map(f=>t({marker:f,...ye.value}))}const je=o(()=>[[Ft,Ue,void 0,{[Q.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Ue(t){t.isFinal===!0?(z.value!==void 0&&(r(t.evt),t.touch===!0&&a(!0),z.value=void 0,g("pan","end")),D.value=!1,$.value=!1):t.isFirst===!0?(z.value=L(t.evt),r(t.evt),a(),D.value=!0,g("pan","start")):(r(t.evt),a())}function ke(){$.value=!1}function We(t){r(t,L(t)),a(),A.value=!0,D.value=!0,document.addEventListener("mouseup",ie,!0)}function ie(){A.value=!1,D.value=!1,a(!0),ke(),document.removeEventListener("mouseup",ie,!0)}function Ke(t){r(t,L(t)),a(!0)}function Ge(t){Te.includes(t.keyCode)&&a(!0)}function Qe(t){if(e.vertical===!0)return null;const f=m.lang.rtl!==e.reverse?1-t:t;return{transform:`translateX(calc(${2*f-1} * ${e.thumbSize} / 2 + ${50-100*f}%))`}}function Ye(t){const f=o(()=>A.value===!1&&($.value===t.focusValue||$.value==="both")?" q-slider--focus":""),y=o(()=>`q-slider__thumb q-slider__thumb${F.value} q-slider__thumb${F.value}-${N.value===!0?"rtl":"ltr"} absolute non-selectable`+f.value+(t.thumbColor.value!==void 0?` text-${t.thumbColor.value}`:"")),S=o(()=>({width:e.thumbSize,height:e.thumbSize,[W.value]:`${100*t.ratio.value}%`,zIndex:$.value===t.focusValue?2:void 0})),M=o(()=>t.labelColor.value!==void 0?` text-${t.labelColor.value}`:""),K=o(()=>Qe(t.ratio.value)),ue=o(()=>"q-slider__text"+(t.labelTextColor.value!==void 0?` text-${t.labelTextColor.value}`:""));return()=>{const ce=[C("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[C("path",{d:e.thumbPath})]),C("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(ce.push(C("div",{class:$e.value+" absolute fit no-pointer-events"+M.value},[C("div",{class:Ee.value,style:{minWidth:e.thumbSize}},[C("div",{class:Me.value,style:K.value},[C("span",{class:ue.value},t.label.value)])])])),e.name!==void 0&&e.disable!==!0&&x(ce,"push")),C("div",{class:y.value,style:S.value,...t.getNodeData()},ce)}}function Je(t,f,y,S){const M=[];e.innerTrackColor!=="transparent"&&M.push(C("div",{key:"inner",class:Ie.value,style:be.value})),e.selectionColor!=="transparent"&&M.push(C("div",{key:"selection",class:j.value,style:t.value})),e.markers!==!1&&M.push(C("div",{key:"marker",class:X.value,style:Ve.value})),S(M);const K=[mt("div",{key:"trackC",class:oe.value,tabindex:f.value,...y.value},[C("div",{class:Re.value,style:Oe.value},M)],"slide",d.value,()=>je.value)];if(e.markerLabels!==!1){const ue=e.switchMarkerLabelsSide===!0?"unshift":"push";K[ue](C("div",{key:"markerL",class:Ne.value},Pe()))}return K}return ct(()=>{document.removeEventListener("mouseup",ie,!0)}),{state:{active:D,focus:$,preventFocus:A,dragging:z,editable:d,classes:ne,tabindex:l,attributes:le,step:n,decimals:u,trackLen:b,innerMin:O,innerMinRatio:p,innerMax:s,innerMaxRatio:_,positionProp:W,sizeProp:H,isReversed:N},methods:{onActivate:We,onMobileClick:Ke,onBlur:ke,onKeyup:Ge,getContent:Je,getThumbRenderFn:Ye,convertRatioToModel:qe,convertModelToRatio:se,getDraggingRatio:Ae}}}const zt=()=>({}),Pt=Le({name:"QSlider",props:{...At,modelValue:{required:!0,default:null,validator:a=>typeof a=="number"||a===null},labelValue:[String,Number]},emits:Vt,setup(a,{emit:r}){const{proxy:{$q:L}}=ae(),{state:c,methods:e}=Bt({updateValue:F,updatePosition:N,getDragging:h,formAttrs:bt(a)}),g=B(null),k=B(0),m=B(0);function T(){m.value=a.modelValue===null?c.innerMin.value:J(a.modelValue,c.innerMin.value,c.innerMax.value)}pt(()=>`${a.modelValue}|${c.innerMin.value}|${c.innerMax.value}`,T),T();const x=o(()=>e.convertModelToRatio(m.value)),D=o(()=>c.active.value===!0?k.value:x.value),A=o(()=>{const d={[c.positionProp.value]:`${100*c.innerMinRatio.value}%`,[c.sizeProp.value]:`${100*(D.value-c.innerMinRatio.value)}%`};return a.selectionImg!==void 0&&(d.backgroundImage=`url(${a.selectionImg}) !important`),d}),$=e.getThumbRenderFn({focusValue:!0,getNodeData:zt,ratio:D,label:o(()=>a.labelValue!==void 0?a.labelValue:m.value),thumbColor:o(()=>a.thumbColor||a.color),labelColor:o(()=>a.labelColor),labelTextColor:o(()=>a.labelTextColor)}),z=o(()=>c.editable.value!==!0?{}:L.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:O,onBlur:e.onBlur,onKeydown:s,onKeyup:e.onKeyup});function F(d){m.value!==a.modelValue&&r("update:modelValue",m.value),d===!0&&r("change",m.value)}function h(){return g.value.getBoundingClientRect()}function N(d,u=c.dragging.value){const n=e.getDraggingRatio(d,u);m.value=e.convertRatioToModel(n),k.value=a.snap!==!0||a.step===0?n:e.convertModelToRatio(m.value)}function O(){c.focus.value=!0}function s(d){if(!Te.includes(d.keyCode))return;fe(d);const u=([34,33].includes(d.keyCode)?10:1)*c.step.value,n=([34,37,40].includes(d.keyCode)?-1:1)*(c.isReversed.value===!0?-1:1)*(a.vertical===!0?-1:1)*u;m.value=J(parseFloat((m.value+n).toFixed(c.decimals.value)),c.innerMin.value,c.innerMax.value),F()}return()=>{const d=e.getContent(A,c.tabindex,z,u=>{u.push($())});return C("div",{ref:g,class:c.classes.value+(a.modelValue===null?" q-slider--no-value":""),...c.attributes.value,"aria-valuenow":a.modelValue},d)}}});function De(a){setTimeout(()=>{window.URL.revokeObjectURL(a.href)},1e4),a.remove()}function jt(a,r,L={}){const{mimeType:c,byteOrderMark:e,encoding:g}=typeof L=="string"?{mimeType:L}:L,k=g!==void 0?new TextEncoder(g).encode([r]):r,m=e!==void 0?[e,k]:[k],T=new Blob(m,{type:c||"application/octet-stream"}),x=document.createElement("a");x.href=window.URL.createObjectURL(T),x.setAttribute("download",a),typeof x.download>"u"&&x.setAttribute("target","_blank"),x.classList.add("hidden"),x.style.position="fixed",document.body.appendChild(x);try{return x.click(),De(x),!0}catch(D){return De(x),D}}const Ut={class:"q-mb-xl"},Wt=i("p",{class:"text-h6"},"Options",-1),Kt={class:"q-mb-md"},Gt=i("p",null,"Reset your app Settings to the defaults without impacting any of your data.",-1),Qt={class:"q-mb-md"},Yt=i("p",null," Welcome overlay provides helpful instructions on basic app usage on the Dashboard page. ",-1),Jt={class:"q-mb-md"},Ht=i("p",null,"Show descriptions for records displayed on the Dashboard page.",-1),Xt=i("p",null,"Dark mode allows you to switch between a light or dark theme for the app.",-1),Zt=i("section",{class:"q-mb-xl"},[i("p",{class:"text-h6"},"Defaults"),i("div",null,[i("p",null,"Load default demostration records into the database. This action can be repeated."),i("div",{class:"q-mb-md"}),i("div")])],-1),ea={class:"q-mb-xl"},ta=i("p",{class:"text-h6"},"Data Management",-1),aa={class:"q-mb-md"},la=i("p",null," Import data into the database from a JSON file. The app expects the data in the file to be structured the same as the exported version. ",-1),na={class:"q-mb-md"},oa=i("p",null," Export your data as a JSON file. Do this on a regularly basis so you have a backup of your data. ",-1),sa={class:"q-mb-xl"},ra=i("p",{class:"text-h6"},"Logging",-1),ia={class:"q-mb-md"},ua=i("p",null,"View the app logs to troubleshoot issues.",-1),ca={class:"q-mb-md"},da=i("p",null," Validate that the logging settings below are working as expected by generating some test logs. ",-1),va={class:"q-mb-md"},ma=i("p",null,"Show Console Logs will display all log messages in the browser console.",-1),fa={class:"q-mb-md"},ba=i("p",null,"Show Info Messages will display info level notifications.",-1),pa={class:"q-mb-md"},ga=i("p",null," Change log retention duration below. Logs older than the selected time will be deleted. This functions retroactivley. Expired log processing occurs every time the app is loaded. ",-1),ha={class:"q-mx-lg"},ya={class:"q-mb-xl"},Sa=i("p",{class:"text-h6 text-negative"},"DANGER ZONE",-1),ka=i("p",null," The following operations cannot be undone. Consider exporting your data before proceeding. ",-1),Ca={class:"q-mb-md"},xa=i("p",null,"Delete the app logs from the database.",-1),_a={class:"q-mb-md"},wa=i("p",null,"Permanently delete all data from the database.",-1),Da={class:"q-mb-md"},La=i("p",null,"Delete the underlining database and all of its data (requires website reload).",-1),Ba=gt({__name:"SettingsView",setup(a){ht({title:`${ve} - Settings`});const{log:r}=yt(),{notify:L}=St(),{confirmDialog:c}=Tt(),{goToLogsData:e}=Et(),g=B([]),k=B(0),m=B(null),T=[I[I["One Week"]],I[I["One Month"]],I[I["Three Months"]],I[I["Six Months"]],I[I["One Year"]],I[I.Forever]],x=q.liveSettings().subscribe({next:u=>{var l;g.value=u;const n=(l=u.find(b=>b.key===V.LOG_RETENTION_DURATION))==null?void 0:l.value;k.value=T.findIndex(b=>b===I[n])},error:u=>{r.error("Error fetching live Settings",u)}});kt(()=>{x.unsubscribe()});function D(){r.debug("This is a Debug Log",{name:"Debug"}),r.info("This is an Info Log",{name:"Info"}),r.warn("This is a Warning Log",{name:"Warning"}),r.error("This is an Error Log",{name:"Error"})}function A(u){var l,b;const n=((b=(l=u[0])==null?void 0:l.importFile)==null?void 0:b.name)||void 0;r.warn(`Cannot import"${n}`,u)}function $(){var u;c("Import",`Import backup data from ${(u=m==null?void 0:m.value)==null?void 0:u.name} and attempt to load records into the database from it? Please note that Logs are NOT imported.`,U.INFO,"info",async()=>{try{const n=JSON.parse(await m.value.text());if(r.silentDebug("backupData:",n),n.appName!==ve)throw new Error(`Cannot import data from the app ${n.appName}`);n.Settings.length>0&&await Promise.all(n.Settings.filter(l=>Object.values(V).includes(l.key)).map(async l=>await q.setSetting(l.key,l.value))),await Promise.all([Object.values(Dt).map(async l=>await q.importRecords(l,n[l]))]),m.value=null,r.info("Successfully imported available data")}catch(n){r.error("Error during import",n)}})}function z(){const u=ve.toLowerCase().split(" ").join("-"),n=new Date().toISOString().split("T")[0],l=`export-${u}-${n}.json`;c("Export",`Export all data into the file "${l}" as a backup?`,U.INFO,"info",async()=>{try{const b=await q.getBackupData();if(r.silentDebug("backupData:",b),jt(l,JSON.stringify(b),{encoding:"UTF-8",mimeType:"application/json"})===!0)r.info("File downloaded successfully",{filename:l});else throw new Error("Browser denied file download")}catch(b){r.error("Export failed",b)}})}async function F(u){try{const n=T[u],l=I[n];await q.setSetting(V.LOG_RETENTION_DURATION,l),r.info("Updated log retention duration",{logDurationKey:n,logDuration:l,index:u})}catch(n){r.error("Log retention duration update failed",n)}}async function h(){c("Reset Settings","Would you like to reset your app Settings to the defaults? This does not impact your data.",U.REFRESH,"primary",async()=>{try{await q.clearSettings(),r.info("Successfully reset settings")}catch(u){r.error("Error reseting settings",u)}})}async function N(){c("Delete Logs","Permanetly delete all Logs from the database?",U.CLEAR,"negative",async()=>{try{await q.clearLogs(),r.info("Successfully deleted logs data")}catch(u){r.error("Error deleting Logs",u)}})}async function O(){c("Delete All","Permanetly delete all data from the database?",U.CLEAR,"negative",async()=>{try{await q.clearAll(),r.info("All data successfully deleted")}catch(u){r.error("Error deleting all data",u)}})}async function s(){c("Delete Database","Delete the underlining database? All data will be lost. You must reload the website after this action to reinitialize the database.",U.CLEAR,"negative",async()=>{try{await q.deleteDatabase(),L("Reload the website now",U.WARN,"warning")}catch(u){r.error("Database deletion failed",u)}})}function d(u){var n;return(n=g.value.find(l=>l.key===u))==null?void 0:n.value}return(u,n)=>(xe(),_e($t,{bannerIcon:w(U).SETTINGS,bannerTitle:"Settings"},{default:me(()=>[i("section",Ut,[Wt,i("div",Kt,[Gt,R(G,{label:"Reset Settings",color:"primary",onClick:n[0]||(n[0]=l=>h())})]),i("div",Qt,[Yt,R(Z,{label:"Show Welcome Overlay","model-value":d(w(V).WELCOME_OVERLAY),"onUpdate:modelValue":n[1]||(n[1]=l=>w(q).setSetting(w(V).WELCOME_OVERLAY,l))},null,8,["model-value"])]),i("div",Jt,[Ht,R(Z,{label:"Show Dashboard Descriptions","model-value":d(w(V).DASHBOARD_DESCRIPTIONS),"onUpdate:modelValue":n[2]||(n[2]=l=>w(q).setSetting(w(V).DASHBOARD_DESCRIPTIONS,l))},null,8,["model-value"])]),i("div",null,[Xt,R(Z,{label:"Dark Mode","model-value":d(w(V).DARK_MODE),"onUpdate:modelValue":n[3]||(n[3]=l=>w(q).setSetting(w(V).DARK_MODE,l))},null,8,["model-value"])])]),Zt,i("section",ea,[ta,i("div",aa,[la,R(Ot,{modelValue:m.value,"onUpdate:modelValue":n[6]||(n[6]=l=>m.value=l),dense:"",outlined:"",counter:"","bottom-slots":"",label:"File Select","max-file-size":w(wt).MAX_FILE_SIZE,accept:"application/json",onRejected:A},{before:me(()=>[R(G,{disable:!m.value,label:"Import",color:"primary",onClick:n[4]||(n[4]=l=>$())},null,8,["disable"])]),append:me(()=>[m.value?(xe(),_e(Ct,{key:0,name:w(U).CLOSE,class:"cursor-pointer",onClick:n[5]||(n[5]=xt(l=>m.value=null,["stop"]))},null,8,["name"])):_t("",!0)]),_:1},8,["modelValue","max-file-size"])]),i("div",na,[oa,R(G,{label:"Export",color:"primary",onClick:n[7]||(n[7]=l=>z())})])]),i("section",sa,[ra,i("div",ia,[ua,R(G,{label:"Access Logs",color:"primary",onClick:n[8]||(n[8]=l=>w(e)())})]),i("div",ca,[da,R(G,{label:"Test Logger",color:"primary",onClick:n[9]||(n[9]=l=>D())})]),i("div",va,[ma,R(Z,{label:"Show Console Logs","model-value":d(w(V).CONSOLE_LOGS),"onUpdate:modelValue":n[10]||(n[10]=l=>w(q).setSetting(w(V).CONSOLE_LOGS,l))},null,8,["model-value"])]),i("div",fa,[ba,R(Z,{label:"Show Info Messages","model-value":d(w(V).INFO_MESSAGES),"onUpdate:modelValue":n[11]||(n[11]=l=>w(q).setSetting(w(V).INFO_MESSAGES,l))},null,8,["model-value"])]),i("div",pa,[ga,i("div",ha,[R(Pt,{modelValue:k.value,"onUpdate:modelValue":n[12]||(n[12]=l=>k.value=l),"label-value":T[k.value],color:"primary",markers:"","label-always":"","switch-label-side":"",min:0,max:T.length-1,onChange:n[13]||(n[13]=l=>F(l))},null,8,["modelValue","label-value","max"])])])]),i("section",ya,[Sa,ka,i("div",Ca,[xa,R(G,{label:"Delete Logs",color:"negative",onClick:n[14]||(n[14]=l=>N())})]),i("div",_a,[wa,R(G,{label:"Delete All Data",color:"negative",onClick:n[15]||(n[15]=l=>O())})]),i("div",Da,[La,R(G,{label:"Delete Database",color:"negative",onClick:n[16]||(n[16]=l=>s())})])])]),_:1},8,["bannerIcon"]))}});export{Ba as default};
