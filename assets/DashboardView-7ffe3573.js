import{c as ke,u as De,a as $e,g as xe,b as Re,d as Ie,r as W,e as P,o as Oe,h as G,f as Me,Q as D,i as Le,j as Fe,s as J,k as X,l as ye,D as O,S as ae,m as h,n as U,w as T,p as i,q as be,t as m,v as w,x as n,A as oe,y as Ne,I as s,z as I,R as qe,B as ge,C as Ue,E as We,F as ie,G as A,H as K,J as Y,K as Z,L as Se,M as Ee,N as Ve,O as k,P as Pe,T as Be,U as x,V as ee,W as He,X as je,Y as Qe,Z as Ke,_ as Ye}from"./index-17f30dc2.js";import{_ as ze}from"./ResponsivePage.vue_vue_type_script_setup_true_lang-5f4fe2e0.js";import{u as Ce}from"./ui-196be826.js";import{Q as fe}from"./QBadge-32e60adb.js";import{t as he,u as Xe,a as Ge,i as Je}from"./index-b30a5205.js";import{Q as te,a as H}from"./QItem-515895cf.js";import{Q as Ze}from"./QList-e9a0e170.js";import{Q as et}from"./QMenu-e3c2b1fa.js";import{u as le}from"./useDialogs-24f50ae9.js";import{u as Ae}from"./useRouting-e60e4946.js";import{u as tt}from"./useDefaults-9decd45d.js";import"./selection-0534035c.js";import"./action-fb43e072.js";import"./QSelect-f8043bb9.js";import"./QItemLabel-70744e04.js";import"./QSpace-0654e6fa.js";import"./ErrorStates.vue_vue_type_script_setup_true_lang-18075fca.js";const nt=ke({name:"QRating",props:{...De,...$e,modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],iconAriaLabel:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{slots:a,emit:l}){const{proxy:{$q:d}}=xe(),g=Re(e),y=Ie(e),C=Le(y),c=W(0);let S={};const t=P(()=>e.readonly!==!0&&e.disable!==!0),E=P(()=>`q-rating row inline items-center q-rating--${t.value===!0?"":"non-"}editable`+(e.noDimming===!0?" q-rating--no-dimming":"")+(e.disable===!0?" disabled":"")+(e.color!==void 0&&Array.isArray(e.color)===!1?` text-${e.color}`:"")),R=P(()=>{const r=Array.isArray(e.icon)===!0?e.icon.length:0,o=Array.isArray(e.iconSelected)===!0?e.iconSelected.length:0,$=Array.isArray(e.iconHalf)===!0?e.iconHalf.length:0,F=Array.isArray(e.color)===!0?e.color.length:0,N=Array.isArray(e.colorSelected)===!0?e.colorSelected.length:0,u=Array.isArray(e.colorHalf)===!0?e.colorHalf.length:0;return{iconLen:r,icon:r>0?e.icon[r-1]:e.icon,selIconLen:o,selIcon:o>0?e.iconSelected[o-1]:e.iconSelected,halfIconLen:$,halfIcon:$>0?e.iconHalf[o-1]:e.iconHalf,colorLen:F,color:F>0?e.color[F-1]:e.color,selColorLen:N,selColor:N>0?e.colorSelected[N-1]:e.colorSelected,halfColorLen:u,halfColor:u>0?e.colorHalf[u-1]:e.colorHalf}}),M=P(()=>{if(typeof e.iconAriaLabel=="string"){const r=e.iconAriaLabel.length!==0?`${e.iconAriaLabel} `:"";return o=>`${r}${o}`}if(Array.isArray(e.iconAriaLabel)===!0){const r=e.iconAriaLabel.length;if(r>0)return o=>e.iconAriaLabel[Math.min(o,r)-1]}return(r,o)=>`${o} ${r}`}),L=P(()=>{const r=[],o=R.value,$=Math.ceil(e.modelValue),F=t.value===!0?0:null,N=e.iconHalf===void 0||$===e.modelValue?-1:$;for(let u=1;u<=e.max;u++){const q=c.value===0&&e.modelValue>=u||c.value>0&&c.value>=u,V=N===u&&c.value<u,B=c.value>0&&(V===!0?$:e.modelValue)>=u&&c.value<u,j=V===!0?u<=o.halfColorLen?e.colorHalf[u-1]:o.halfColor:o.selColor!==void 0&&q===!0?u<=o.selColorLen?e.colorSelected[u-1]:o.selColor:u<=o.colorLen?e.color[u-1]:o.color,Q=(V===!0?u<=o.halfIconLen?e.iconHalf[u-1]:o.halfIcon:o.selIcon!==void 0&&(q===!0||B===!0)?u<=o.selIconLen?e.iconSelected[u-1]:o.selIcon:u<=o.iconLen?e.icon[u-1]:o.icon)||d.iconSet.rating.icon;r.push({name:(V===!0?u<=o.halfIconLen?e.iconHalf[u-1]:o.halfIcon:o.selIcon!==void 0&&(q===!0||B===!0)?u<=o.selIconLen?e.iconSelected[u-1]:o.selIcon:u<=o.iconLen?e.icon[u-1]:o.icon)||d.iconSet.rating.icon,attrs:{tabindex:F,role:"radio","aria-checked":e.modelValue===u?"true":"false","aria-label":M.value(u,Q)},iconClass:"q-rating__icon"+(q===!0||V===!0?" q-rating__icon--active":"")+(B===!0?" q-rating__icon--exselected":"")+(c.value===u?" q-rating__icon--hovered":"")+(j!==void 0?` text-${j}`:"")})}return r}),f=P(()=>{const r={role:"radiogroup"};return e.disable===!0&&(r["aria-disabled"]="true"),e.readonly===!0&&(r["aria-readonly"]="true"),r});function v(r){if(t.value===!0){const o=Fe(parseInt(r,10),1,parseInt(e.max,10)),$=e.noReset!==!0&&e.modelValue===o?0:o;$!==e.modelValue&&l("update:modelValue",$),c.value=0}}function b(r){t.value===!0&&(c.value=r)}function p(r,o){switch(r.keyCode){case 13:case 32:return v(o),J(r);case 37:case 40:return S[`rt${o-1}`]&&S[`rt${o-1}`].focus(),J(r);case 39:case 38:return S[`rt${o+1}`]&&S[`rt${o+1}`].focus(),J(r)}}function _(){c.value=0}return Oe(()=>{S={}}),()=>{const r=[];return L.value.forEach(({iconClass:o,name:$,attrs:F},N)=>{const u=N+1;r.push(G("div",{key:u,ref:q=>{S[`rt${u}`]=q},class:"q-rating__icon-container flex flex-center",...F,onClick(){v(u)},onMouseover(){b(u)},onMouseout:_,onFocus(){b(u)},onBlur:_,onKeyup(q){p(q,u)}},Me(a[`tip-${u}`],[G(D,{class:o,name:$})])))}),e.name!==void 0&&e.disable!==!0&&C(r,"push"),G("div",{class:E.value,style:g.value,...f.value},r)}}}),at={class:"text-h6"},ot=m("p",null,' Continue reading to learn more, or scroll to the bottom and click the "Start Using App" button to jump right in. ',-1),it={class:"q-mb-md"},lt=m("p",null," You are currently on the Dashboard page. This page gives you quick access to the primary data you work with in the app. You can favorite items on the Dashboard by clicking the star icon in the top right corner of the item. This prioritizes the item to the top of the list. ",-1),st={class:"q-mb-md"},rt=m("p",null," You can navigate through the app using the menu in the top left corner of the page. An example of the menu button is below. The menu gives you access to the primary data tables, Frequently Asked Questions (FAQ), Settings, and more. More advanced operations for the app are available on the Settings page. ",-1),ut={class:"q-mb-md"},ct=m("p",null," You can access the data tables for the current Dashboard selection by clicking the buttons in the top right corner of the page. The left button is for the parent records. The right button is for the child records. ",-1),dt={class:"q-mb-md"},mt=m("p",null,"Click the button below when you are ready to get started.",-1),ft=X({__name:"WelcomeOverlay",setup(e){const a=W(0),l=W(!1);ye(async()=>{l.value=!!await O.getSettingValue(ae.WELCOME_OVERLAY)});async function d(){await O.setSetting(ae.WELCOME_OVERLAY,!1),l.value=!1}return(g,y)=>(h(),U(Ue,{modelValue:l.value,"onUpdate:modelValue":y[2]||(y[2]=C=>l.value=C),persistent:""},{default:T(()=>[i(ge,{flat:"",square:""},{default:T(()=>[i(be,null,{default:T(()=>[m("p",at,"Welcome to "+w(n(oe)),1),m("p",null,w(n(Ne)),1),ot,m("div",it,[lt,i(nt,{modelValue:a.value,"onUpdate:modelValue":y[0]||(y[0]=C=>a.value=C),max:1,icon:n(s).FAVORITE_OFF,"icon-selected":n(s).FAVORITE_ON,color:"warning",size:"md"},null,8,["modelValue","icon","icon-selected"])]),m("div",st,[rt,i(I,{disable:"",color:"primary",class:"q-px-sm",icon:n(s).MENU},null,8,["icon"])]),m("div",ut,[ct,i(I,{disable:"",color:"info",class:"q-px-sm q-mr-sm",icon:n(s).PARENTS},null,8,["icon"]),i(I,{disable:"",color:"info",class:"q-px-sm",icon:n(s).CHILDREN},null,8,["icon"])]),m("div",dt,[m("p",null," Hope you find "+w(n(oe))+" useful. Please consider donating to help me continue to create and maintain apps like this. Thank you! ",1),i(I,{color:"warning",label:"Donate",to:{name:n(qe).DONATE},icon:n(s).DONATE},null,8,["to","icon"])]),m("div",null,[mt,i(I,{"no-caps":"",label:"Start Using App",class:"full-width",size:"lg",color:"positive",icon:n(s).READY,onClick:y[1]||(y[1]=C=>d())},null,8,["icon"])])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),ht=Je?window:void 0;function vt(e,a={}){const{immediate:l=!0,window:d=ht}=a,g=W(!1);let y=0,C=null;function c(E){if(!g.value||!d)return;const R=E-(y||E);e({delta:R,timestamp:E}),y=E,C=d.requestAnimationFrame(c)}function S(){!g.value&&d&&(g.value=!0,C=d.requestAnimationFrame(c))}function t(){g.value=!1,C!=null&&d&&(d.cancelAnimationFrame(C),C=null)}return l&&S(),Ge(t),{isActive:We(g),pause:t,resume:S}}var pt=Object.defineProperty,ve=Object.getOwnPropertySymbols,_t=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable,pe=(e,a,l)=>a in e?pt(e,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[a]=l,bt=(e,a)=>{for(var l in a||(a={}))_t.call(a,l)&&pe(e,l,a[l]);if(ve)for(var l of ve(a))yt.call(a,l)&&pe(e,l,a[l]);return e};function gt(e={}){const{controls:a=!1,interval:l="requestAnimationFrame"}=e,d=W(new Date),g=()=>d.value=new Date,y=l==="requestAnimationFrame"?vt(g,{immediate:!0}):Xe(g,l,{immediate:!0});return a?bt({now:d},y):d}var St=Object.defineProperty,z=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable,_e=(e,a,l)=>a in e?St(e,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[a]=l,Et=(e,a)=>{for(var l in a||(a={}))we.call(a,l)&&_e(e,l,a[l]);if(z)for(var l of z(a))Te.call(a,l)&&_e(e,l,a[l]);return e},Ct=(e,a)=>{var l={};for(var d in e)we.call(e,d)&&a.indexOf(d)<0&&(l[d]=e[d]);if(e!=null&&z)for(var d of z(e))a.indexOf(d)<0&&Te.call(e,d)&&(l[d]=e[d]);return l};const At=[{max:6e4,value:1e3,name:"second"},{max:276e4,value:6e4,name:"minute"},{max:72e6,value:36e5,name:"hour"},{max:5184e5,value:864e5,name:"day"},{max:24192e5,value:6048e5,name:"week"},{max:28512e6,value:2592e6,name:"month"},{max:1/0,value:31536e6,name:"year"}],wt={justNow:"just now",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,a)=>e===1?a?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,a)=>e===1?a?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,a)=>e===1?a?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,a)=>e===1?a?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`,invalid:""};function Tt(e){return e.toISOString().slice(0,10)}function kt(e,a={}){const{controls:l=!1,updateInterval:d=3e4}=a,g=gt({interval:d,controls:!0}),{now:y}=g,C=Ct(g,["now"]),c=P(()=>Dt(new Date(he(e)),a,he(y)));return l?Et({timeAgo:c},C):c}function Dt(e,a={},l=Date.now()){var d;const{max:g,messages:y=wt,fullDateFormatter:C=Tt,units:c=At,showSecond:S=!1,rounding:t="round"}=a,E=typeof t=="number"?b=>+b.toFixed(t):Math[t],R=+l-+e,M=Math.abs(R);function L(b,p){return E(Math.abs(b)/p.value)}function f(b,p){const _=L(b,p),r=b>0,o=v(p.name,_,r);return v(r?"past":"future",o,r)}function v(b,p,_){const r=y[b];return typeof r=="function"?r(p,_):r.replace("{0}",p.toString())}if(M<6e4&&!S)return y.justNow;if(typeof g=="number"&&M>g)return C(new Date(e));if(typeof g=="string"){const b=(d=c.find(p=>p.name===g))==null?void 0:d.max;if(b&&M>b)return C(new Date(e))}for(const[b,p]of c.entries()){if(L(R,p)<=0&&c[b-1])return f(R,c[b-1]);if(M<p.max)return f(R,p)}return y.invalid}const $t={class:"absolute-top-right q-ma-xs"},xt=X({__name:"DashboardRecordCardMenu",props:{parentTable:{},record:{}},setup(e){const a=e,l=Ce(),{log:d}=ie(),{goToEdit:g}=Ae(),{confirmDialog:y,dismissDialog:C,inspectDialog:c,chartsDialog:S}=le();function t(f){C("Previous Note",f,s.NOTE)}function E(f,v,b){const p=b?"Unfavorite":"Favorite",_=`Do you want to ${p.toLocaleLowerCase()} ${v}?`,r=b?s.FAVORITE_OFF:s.FAVORITE_ON;y(p,_,r,"info",async()=>{try{await O.toggleFavorite(a.parentTable,f),d.info(`${p}d ${v}`,{id:f,name:v})}catch(o){d.error(`${p} failed`,o)}})}async function R(f){const v=await O.getRecord(a.parentTable,f);v?c(v,a.parentTable):d.error("Failed to find record",{id:f})}function M(f,v){S(v,f)}function L(){y("Discard Workout","Would you like to discard the current active workout? You will lose any progress saved so far, but regain access to locked records.",s.CANCEL,"warning",async()=>{try{await O.discardWorkout(),d.info("Discarded active workout")}catch(f){d.error("Failed to discard active workout",f)}})}return(f,v)=>{var b;return h(),A("div",$t,[K(i(I,{dense:"",round:"",flat:"",color:"primary",icon:n(s).NOTE,onClick:v[0]||(v[0]=p=>{var _,r;return t(((r=(_=f.record)==null?void 0:_.previousChild)==null?void 0:r.note)||"")})},null,8,["icon"]),[[Y,(b=f.record.previousChild)==null?void 0:b.note]]),f.record.activated?(h(),U(I,{key:0,dense:"",round:"",flat:"",color:"warning",icon:n(s).CANCEL,onClick:v[1]||(v[1]=p=>L())},null,8,["icon"])):(h(),U(I,{key:1,dense:"",round:"",flat:"",color:f.record.favorited?"warning":"grey",icon:f.record.favorited?n(s).FAVORITE_ON:n(s).FAVORITE_OFF,onClick:v[2]||(v[2]=p=>E(f.record.id,f.record.name,f.record.favorited))},null,8,["color","icon"])),i(I,{round:"",flat:"",icon:n(s).MENU_VERTICAL},{default:T(()=>[i(et,{"auto-close":"",anchor:"top right","transition-show":"flip-right","transition-hide":"flip-left"},{default:T(()=>[i(Ze,null,{default:T(()=>[i(te,{disable:f.record.previousChild===void 0,clickable:"",onClick:v[3]||(v[3]=p=>M(f.parentTable,f.record.id))},{default:T(()=>[i(H,{avatar:""},{default:T(()=>[i(D,{color:"accent",name:n(s).CHARTS},null,8,["name"])]),_:1}),i(H,null,{default:T(()=>[Z("Charts")]),_:1})]),_:1},8,["disable"]),i(te,{clickable:"",onClick:v[4]||(v[4]=p=>R(f.record.id))},{default:T(()=>[i(H,{avatar:""},{default:T(()=>[i(D,{color:"primary",name:n(s).INSPECT},null,8,["name"])]),_:1}),i(H,null,{default:T(()=>[Z("Inspect")]),_:1})]),_:1}),i(te,{disable:f.record.activated,clickable:"",onClick:v[5]||(v[5]=p=>n(g)(n(l).dashboardSelection,f.record.id))},{default:T(()=>[i(H,{avatar:""},{default:T(()=>[i(D,{color:"warning",name:n(s).EDIT},null,8,["name"])]),_:1}),i(H,null,{default:T(()=>[Z("Edit")]),_:1})]),_:1},8,["disable"])]),_:1})]),_:1})]),_:1},8,["icon"])])}}}),Rt={class:"row justify-center q-gutter-md"},It=m("span",{class:"text-caption q-ml-xs"},"Active",-1),Ot={class:"text-h6"},Mt={key:1},Lt={class:"text-caption q-ml-xs"},Ft={key:2},Nt={class:"text-caption q-ml-xs"},qt={key:3},Ut={class:"text-caption q-ml-xs"},Wt={key:4},Vt={class:"text-caption q-ml-xs"},Pt={key:5},Bt={class:"text-caption q-ml-xs"},Ht={key:6},jt={class:"text-caption q-ml-xs"},Qt={key:7},Kt={class:"text-caption q-ml-xs"},Yt={key:8},zt={class:"text-caption q-ml-xs"},Xt={key:9},Gt={class:"text-caption q-ml-xs"},Jt={key:10},Zt={class:"text-caption q-ml-xs"},en={key:11},tn={class:"text-caption q-ml-xs"},nn={key:12},an={class:"text-caption q-ml-xs"},on={key:13},ln={class:"text-caption q-ml-xs"},sn={key:14},rn={class:"text-caption q-ml-xs"},un={key:15},cn={class:"text-caption q-ml-xs"},dn={key:16},mn={class:"text-caption q-ml-xs"},fn={key:0,class:"text-center full-width"},hn={class:"col-12 text-grey text-center text-body1"},vn={key:0,class:"col-12 text-center"},pn={class:"col-12 text-center"},ne=X({__name:"DashboardRecordCardList",props:{parentTable:{},records:{},showDescriptions:{type:Boolean},defaultsFunc:{type:Function}},setup(e){const a=e,{log:l}=ie(),{confirmDialog:d}=le(),{goToCreate:g,goToActive:y}=Ae();async function C(c,S){await O.isActiveWorkout()?d("Replace Active Workout",`You already have an active workout. Do you want to replace it with ${S}?`,s.WARN,"warning",async()=>{try{await O.discardWorkout(),await O.beginWorkout(c),y(),l.info("Replaced active workout",{replacedById:c,replacedByName:S})}catch(E){l.error("Failed to replace active workout",E)}}):(await O.beginWorkout(c),y())}return(c,S)=>(h(),A("div",Rt,[(h(!0),A(Se,null,Ee(c.records,t=>(h(),A("div",{key:t.id,class:"col-xs-12 col-sm-12 col-md-12 col-lg-5"},[i(ge,{class:"column full-height"},{default:T(()=>[i(be,{class:"col"},{default:T(()=>{var E,R,M,L,f,v,b,p,_,r,o,$,F,N,u,q,V,B,j,Q,se,re,ue,ce,de;return[i(xt,{parentTable:c.parentTable,record:t},null,8,["parentTable","record"]),t.activated?(h(),U(fe,{key:0,rounded:"",color:"warning",class:"absolute-top-left q-py-none",style:{left:"-4px",top:"-6px"}},{default:T(()=>[i(D,{name:n(s).LOCK},null,8,["name"]),It]),_:1})):k("",!0),m("p",Ot,w(t.name),1),c.showDescriptions?(h(),A("p",Mt,w(t.desc),1)):k("",!0),i(fe,{rounded:"",color:"secondary",class:"q-py-none"},{default:T(()=>{var me;return[i(D,{name:n(s).PREVIOUS},null,8,["name"]),m("span",Lt,w(n(kt)(((me=t.previousChild)==null?void 0:me.createdTimestamp)||"").value||"No previous records"),1)]}),_:2},1024),(E=t.previousChild)!=null&&E.createdTimestamp?(h(),A("div",Ft,[i(D,{name:n(s).CALENDAR_CHECK},null,8,["name"]),m("span",Nt,w(n(Pe)(t.previousChild.createdTimestamp)),1)])):k("",!0),(R=t.previousChild)!=null&&R.createdTimestamp&&((M=t==null?void 0:t.previousChild)!=null&&M.finishedTimestamp)?(h(),A("div",qt,[i(D,{name:n(s).STOPWATCH},null,8,["name"]),m("span",Ut,w(n(Be)(t.previousChild.finishedTimestamp-t.previousChild.createdTimestamp)),1)])):k("",!0),(L=t==null?void 0:t.previousChild)!=null&&L.bodyWeight?(h(),A("div",Wt,[i(D,{name:n(s).MEASUREMENTS},null,8,["name"]),m("span",Vt,w(t.previousChild.bodyWeight)+" lbs ",1)])):k("",!0),(f=t==null?void 0:t.previousChild)!=null&&f.percent?(h(),A("div",Pt,[i(D,{name:n(s).MEASUREMENTS},null,8,["name"]),m("span",Bt,w(t.previousChild.percent)+"% ",1)])):k("",!0),(v=t==null?void 0:t.previousChild)!=null&&v.inches?(h(),A("div",Ht,[i(D,{name:n(s).MEASUREMENTS},null,8,["name"]),m("span",jt,w(t.previousChild.inches)+" inches ",1)])):k("",!0),(b=t==null?void 0:t.previousChild)!=null&&b.number?(h(),A("div",Qt,[i(D,{name:n(s).MEASUREMENTS},null,8,["name"]),m("span",Kt,w(t.previousChild.number),1)])):k("",!0),(_=(p=t==null?void 0:t.previousChild)==null?void 0:p.reps)!=null&&_[0]?(h(),A("div",Yt,[i(D,{name:n(s).REPS},null,8,["name"]),m("span",zt,w(t.previousChild.reps.join(", "))+" reps ",1)])):k("",!0),(o=(r=t==null?void 0:t.previousChild)==null?void 0:r.weightLbs)!=null&&o[0]?(h(),A("div",Xt,[i(D,{name:n(s).WEIGHT},null,8,["name"]),m("span",Gt,w(t.previousChild.weightLbs.join(", "))+" lbs ",1)])):k("",!0),(F=($=t==null?void 0:t.previousChild)==null?void 0:$.distanceMiles)!=null&&F[0]?(h(),A("div",Jt,[i(D,{name:n(s).DISTANCE},null,8,["name"]),m("span",Zt,w(t.previousChild.distanceMiles.join(", "))+" mi ",1)])):k("",!0),(u=(N=t==null?void 0:t.previousChild)==null?void 0:N.durationMinutes)!=null&&u[0]?(h(),A("div",en,[i(D,{name:n(s).DURATION},null,8,["name"]),m("span",tn,w(t.previousChild.durationMinutes.join(", "))+" minutes ",1)])):k("",!0),(V=(q=t==null?void 0:t.previousChild)==null?void 0:q.watts)!=null&&V[0]?(h(),A("div",nn,[i(D,{name:n(s).WATTS},null,8,["name"]),m("span",an,w(t.previousChild.watts.join(", "))+" watts ",1)])):k("",!0),(j=(B=t==null?void 0:t.previousChild)==null?void 0:B.speedMph)!=null&&j[0]?(h(),A("div",on,[i(D,{name:n(s).SPEED},null,8,["name"]),m("span",ln,w(t.previousChild.speedMph.join(", "))+" mph ",1)])):k("",!0),(se=(Q=t==null?void 0:t.previousChild)==null?void 0:Q.resistance)!=null&&se[0]?(h(),A("div",sn,[i(D,{name:n(s).RESISTANCE},null,8,["name"]),m("span",rn,w(t.previousChild.resistance.join(", "))+" resistance ",1)])):k("",!0),(ue=(re=t==null?void 0:t.previousChild)==null?void 0:re.incline)!=null&&ue[0]?(h(),A("div",un,[i(D,{name:n(s).INCLINE},null,8,["name"]),m("span",cn,w(t.previousChild.incline.join(", "))+" incline ",1)])):k("",!0),(de=(ce=t==null?void 0:t.previousChild)==null?void 0:ce.calories)!=null&&de[0]?(h(),A("div",dn,[i(D,{name:n(s).CALORIES},null,8,["name"]),m("span",mn,w(t.previousChild.calories.join(", "))+" calories ",1)])):k("",!0)]}),_:2},1024),c.parentTable===n(x).WORKOUTS?(h(),U(ee,{key:0,class:"col-auto"},{default:T(()=>[t!=null&&t.activated?(h(),U(I,{key:0,label:"Resume Workout",color:"positive",class:"full-width",icon:n(s).WORKOUT_RESUME,onClick:S[0]||(S[0]=E=>n(y)())},null,8,["icon"])):(h(),U(I,{key:1,label:"Begin Workout",color:"primary",icon:n(s).WORKOUT_BEGIN,class:"full-width",onClick:E=>C(t.id,t.name)},null,8,["icon","onClick"]))]),_:2},1024)):k("",!0),c.parentTable===n(x).EXERCISES?(h(),U(ee,{key:1,class:"col-auto"},{default:T(()=>[t!=null&&t.activated?(h(),A("div",fn," Access limited while active ")):(h(),U(I,{key:1,label:"Add Exercise Entry",color:"primary",class:"full-width",icon:n(s).ATTACH,onClick:E=>n(g)(n(x).EXERCISE_RESULTS,t.id)},null,8,["icon","onClick"]))]),_:2},1024)):k("",!0),c.parentTable===n(x).MEASUREMENTS?(h(),U(ee,{key:2,class:"col-auto"},{default:T(()=>[i(I,{label:"Take Measurement",color:"primary",class:"full-width",icon:n(s).MEASUREMENTS,onClick:E=>n(g)(n(x).MEASUREMENT_RESULTS,t.id)},null,8,["icon","onClick"])]),_:2},1024)):k("",!0)]),_:2},1024)]))),128)),m("div",hn,w(n(Ve)(c.records)),1),c.records.length===0&&c.defaultsFunc?(h(),A("div",vn,[i(I,{class:"col-12 text-center",color:"primary",icon:n(s).DEFAULTS,label:`Add ${n(O).getLabel(a.parentTable,"singular")} Defaults`,onClick:S[1]||(S[1]=t=>c.defaultsFunc())},null,8,["icon","label"])])):k("",!0),m("div",pn,[i(I,{class:"col-12 text-center",color:"positive",icon:n(s).CREATE,label:`Create ${n(O).getLabel(c.parentTable,"singular")}`,onClick:S[2]||(S[2]=t=>n(g)(c.parentTable))},null,8,["icon","label"])])]))}}),_n={class:"q-mb-md"},yn={class:"text-center text-body1"},bn={class:"row justify-center"},Nn=X({__name:"DashboardView",setup(e){He({title:`${oe} - Dashboard`});const a=Ce(),{log:l}=ie(),{confirmDialog:d}=le(),{onAddBarbellStrengthWorkouts:g,onAddStretchRoutine:y,onAddCarpalTunnelRoutine:C,onAddDeepBreathingRoutine:c,onAddStandardMeasurements:S}=tt(),t=[{value:x.WORKOUTS,label:je.getLabel("plural"),icon:s.WORKOUTS},{value:x.EXERCISES,label:Qe.getLabel("plural"),icon:s.EXERCISES},{value:x.MEASUREMENTS,label:Ke.getLabel("plural"),icon:s.MEASUREMENTS}],E=W(!1),R=W([]),M=W([]),L=W([]),f=O.liveDashboardData(x.WORKOUTS).subscribe({next:_=>R.value=_,error:_=>l.error("Error fetching live Workouts",_)}),v=O.liveDashboardData(x.EXERCISES).subscribe({next:_=>M.value=_,error:_=>l.error("Error fetching live Exercises",_)}),b=O.liveDashboardData(x.MEASUREMENTS).subscribe({next:_=>L.value=_,error:_=>l.error("Error fetching live Measurements",_)});ye(async()=>{E.value=!!await O.getSettingValue(ae.DASHBOARD_DESCRIPTIONS)}),Ye(()=>{f.unsubscribe(),v.unsubscribe(),b.unsubscribe()});function p(){d("Load Default Workouts","Cycle through, and confirm each default workout you would like to load into the database.",s.DEFAULTS,"info",async()=>{try{await g(),await y(),await C(),await c()}catch(_){l.error("Defaults failed",_)}})}return(_,r)=>(h(),U(ze,{bannerIcon:n(s).DASHBOARD,bannerTitle:"Dashboard"},{default:T(()=>{var o;return[i(ft),m("section",_n,[m("p",yn,w((o=t.find($=>$.value===n(a).dashboardSelection))==null?void 0:o.label),1),m("div",bn,[(h(),A(Se,null,Ee(t,($,F)=>i(I,{key:F,round:"",size:"lg",class:"q-mb-xs q-mx-xs",icon:$.icon,color:n(a).dashboardSelection===$.value?"info":"grey",onClick:N=>n(a).dashboardSelection=$.value},null,8,["icon","color","onClick"])),64))])]),m("section",null,[K(i(ne,{parentTable:n(x).WORKOUTS,records:R.value,showDescriptions:E.value,defaultsFunc:p},null,8,["parentTable","records","showDescriptions"]),[[Y,n(a).dashboardSelection===n(x).WORKOUTS]]),K(i(ne,{parentTable:n(x).EXERCISES,records:M.value,showDescriptions:E.value,defaultsFunc:void 0},null,8,["parentTable","records","showDescriptions"]),[[Y,n(a).dashboardSelection===n(x).EXERCISES]]),K(i(ne,{parentTable:n(x).MEASUREMENTS,records:L.value,showDescriptions:E.value,defaultsFunc:n(S)},null,8,["parentTable","records","showDescriptions","defaultsFunc"]),[[Y,n(a).dashboardSelection===n(x).MEASUREMENTS]])])]}),_:1},8,["bannerIcon"]))}});export{Nn as default};
