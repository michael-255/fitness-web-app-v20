import{Q as S}from"./QBadge-b83ec4ab.js";import{k as T,F as x,r as n,l as k,D as i,$ as E,aO as L,bn as R,m as c,G as p,t as u,v as h,p as f,w,x as g,n as M,O as V}from"./index-f9e48ce5.js";import{C as Y,p as N,a as O,b as P,B as Q,c as $,L as q,P as F,d as G,u as U,e as W,f as j}from"./useCharting-b86445ea.js";import{_ as z}from"./ErrorStates.vue_vue_type_script_setup_true_lang-d8b6fb67.js";import{u as A}from"./ui-48790129.js";const H={key:0},I={key:0},J={class:"text-caption"},K="Best Reps",re=T({__name:"ChartBestReps",props:{id:{},parentTable:{}},setup(_){const a=_;Y.register(N,O,P,Q,$,q,F,G);const{log:C}=x(),{getSingleChartOptions:y,getSingleChartDataset:b}=j(),D=A(),l=n(!1),s=n(0),d=n({labels:[],datasets:[]});k(async()=>{await m()}),U(m);async function m(){try{const{exerciseInputs:e}=await i.getRecord(a.parentTable,a.id);if((e==null?void 0:e.length)===0||!(e!=null&&e.includes(E.REPS)))return;const r=await i.getSortedChildren(i.getChildTable(a.parentTable),a.id);if(r.length===0)return;const o=r.filter(t=>new Date().getTime()-t.createdTimestamp<=L[D.chartTime]);s.value=o.length;const v=o.map(t=>R.formatDate(t.createdTimestamp,"YYYY MMM D")),B=o.map(t=>Math.max(...t.reps));d.value={labels:v,datasets:[b(B,"secondary","secondary")]},l.value=!0}catch(e){C.error("Error loading exercise best reps chart",e)}}return(e,r)=>l.value?(c(),p("section",H,[s.value>0?(c(),p("div",I,[u("div",{class:"text-h6"},h(K)),f(S,{rounded:"",color:"secondary",class:"q-py-none"},{default:w(()=>[u("span",J,h(s.value)+" records in time frame",1)]),_:1}),f(g(W),{options:g(y)(),data:d.value,style:{"max-height":"500px"}},null,8,["options","data"])])):(c(),M(z,{key:1,error:"no-data"}))])):V("",!0)}});export{re as default};
