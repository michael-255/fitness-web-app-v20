import{c as F,h as _,g as N,aY as O,aZ as p,a_ as P,r as m,b2 as $,e as i,a5 as c,ab as K,f as M,b3 as j,k as U,b4 as W,m as V,n as H,w as s,p as o,b5 as Y,aO as Z,x as h,b6 as E,aQ as z,aP as G,K as J,v as B,z as X,I as q,R as ee,b7 as te,b8 as ae,aS as oe,ao as ne,Q as le,t as se,b9 as ue}from"./index-41950ac7.js";import{b as re}from"./index-7f16a2d8.js";const ie=_("div",{class:"q-space"}),R=F({name:"QSpace",setup(){return()=>ie}}),ce=F({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(a,{slots:y,emit:b}){const{proxy:{$q:d}}=N(),t=O(P,p);if(t===p)return console.error("QFooter needs to be child of QLayout"),p;const r=m(parseInt(a.heightHint,10)),u=m(!0),g=m($.value===!0||t.isContainer.value===!0?0:window.innerHeight),f=i(()=>a.reveal===!0||t.view.value.indexOf("F")>-1||d.platform.is.ios&&t.isContainer.value===!0),w=i(()=>t.isContainer.value===!0?t.containerHeight.value:g.value),Q=i(()=>{if(a.modelValue!==!0)return 0;if(f.value===!0)return u.value===!0?r.value:0;const e=t.scroll.value.position+w.value+r.value-t.height.value;return e>0?e:0}),C=i(()=>a.modelValue!==!0||f.value===!0&&u.value!==!0),S=i(()=>a.modelValue===!0&&C.value===!0&&a.reveal===!0),D=i(()=>"q-footer q-layout__section--marginal "+(f.value===!0?"fixed":"absolute")+"-bottom"+(a.bordered===!0?" q-footer--bordered":"")+(C.value===!0?" q-footer--hidden":"")+(a.modelValue!==!0?" q-layout--prevent-focus"+(f.value!==!0?" hidden":""):"")),T=i(()=>{const e=t.rows.value.bottom,n={};return e[0]==="l"&&t.left.space===!0&&(n[d.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),e[2]==="r"&&t.right.space===!0&&(n[d.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),n});function l(e,n){t.update("footer",e,n)}function v(e,n){e.value!==n&&(e.value=n)}function k({height:e}){v(r,e),l("size",e)}function A(){if(a.reveal!==!0)return;const{direction:e,position:n,inflectionPoint:L}=t.scroll.value;v(u,e==="up"||n-L<100||t.height.value-w.value-n-r.value<300)}function I(e){S.value===!0&&v(u,!0),b("focusin",e)}c(()=>a.modelValue,e=>{l("space",e),v(u,!0),t.animate()}),c(Q,e=>{l("offset",e)}),c(()=>a.reveal,e=>{e===!1&&v(u,a.modelValue)}),c(u,e=>{t.animate(),b("reveal",e)}),c([r,t.scroll,t.height],A),c(()=>d.screen.height,e=>{t.isContainer.value!==!0&&v(g,e)});const x={};return t.instances.footer=x,a.modelValue===!0&&l("size",r.value),l("space",a.modelValue),l("offset",Q.value),K(()=>{t.instances.footer===x&&(t.instances.footer=void 0,l("size",0),l("offset",0),l("space",!1))}),()=>{const e=M(y.default,[_(j,{debounce:0,onResize:k})]);return a.elevated===!0&&e.push(_("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),_("footer",{class:D.value,style:T.value,onFocusin:I},e)}}}),de={class:"text-h6"},me=U({__name:"ActiveLayout",setup(a){const y=re(1e3),b=m(""),d=m(Date.now()),t=m("");return c(y,()=>{t.value=W(Date.now()-d.value)||""}),(r,u)=>(V(),H(ue,{view:"hHh LpR fFf"},{default:s(()=>[o(Y,{elevated:"",class:Z(`bg-${h(E)}`)},{default:s(()=>[o(z,null,{default:s(()=>[o(G,{class:"q-ml-xs"},{default:s(()=>[J(B(b.value),1)]),_:1}),o(X,{flat:"",round:"",icon:h(q).BACK,to:{name:h(ee).DASHBOARD}},null,8,["icon","to"])]),_:1})]),_:1},8,["class"]),o(te,null,{default:s(()=>[o(h(ae),null,{default:s(({Component:g,route:f})=>[o(oe,{name:"global-fade",mode:"out-in"},{default:s(()=>[(V(),H(ne(g),{key:f.path}))]),_:2},1024)]),_:1})]),_:1}),o(ce,{elevated:"",class:"bg-primary"},{default:s(()=>[o(z,null,{default:s(()=>[o(R),o(le,{name:h(q).STOPWATCH,size:"sm",class:"q-mr-sm"},null,8,["name"]),se("div",de,B(t.value),1),o(R)]),_:1})]),_:1})]),_:1}))}});export{me as default};
