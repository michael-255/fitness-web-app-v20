import{g as F,r as z,k as H,m as l,n as D,w as s,x as t,C as R,p as o,q as y,b5 as N,Q as $,t as q,v as g,K as Q,V as P,z as x,B as L,a7 as V,a6 as E,D as S,l as G,a4 as U,_ as W,I as v,b8 as M,b7 as j,G as m,M as I,L as w,O as K,aO as d,au as Y,bI as J}from"./index-ff52cf3d.js";import{u as X}from"./action-45ab2598.js";import{Q as Z}from"./QSelect-645fbe4a.js";import{_ as ee}from"./ErrorStates.vue_vue_type_script_setup_true_lang-73a5f6dd.js";import{u as oe}from"./ui-a8e57791.js";const te=()=>!0;function ne(i){const a={};return i.forEach(r=>{a[r]=te}),a}function h(){const{emit:i,proxy:a}=F(),r=z(null);function p(){r.value.show()}function c(){r.value.hide()}function e(_){i("ok",_),c()}function n(){i("hide")}return Object.assign(a,{show:p,hide:c}),{dialogRef:r,onDialogHide:n,onDialogOK:e,onDialogCancel:c}}const A=["ok","hide"];h.emits=A;h.emitsObject=ne(A);const se={class:"text-h6"},ae=H({__name:"ConfirmationDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...h.emits],setup(i){const a=i,{dialogRef:r,onDialogHide:p,onDialogOK:c,onDialogCancel:e}=h();return(n,_)=>(l(),D(R,{ref_key:"dialogRef",ref:r,onHide:t(p)},{default:s(()=>[o(L,{class:"q-dialog-plugin"},{default:s(()=>[o(y,{class:N(`bg-${a.color} text-white q-py-sm`)},{default:s(()=>[o($,{name:n.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),q("span",se,g(n.title),1)]),_:1},8,["class"]),o(y,{class:"q-mt-md"},{default:s(()=>[Q(g(n.message),1)]),_:1}),o(P,{align:"right"},{default:s(()=>[o(x,{flat:"",label:"Cancel",onClick:t(e)},null,8,["onClick"]),o(x,{flat:"",label:"Confirm",color:n.color,onClick:t(c)},null,8,["color","onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),le={class:"text-h6"},ie=H({__name:"DismissalDialog",props:{title:{},message:{},icon:{},color:{}},emits:[...h.emits],setup(i){const a=i,{dialogRef:r,onDialogHide:p,onDialogOK:c}=h();return(e,n)=>(l(),D(R,{ref_key:"dialogRef",ref:r,onHide:t(p)},{default:s(()=>[o(L,{class:"q-dialog-plugin"},{default:s(()=>[o(y,{class:N(`bg-${a.color} text-white q-py-sm`)},{default:s(()=>[o($,{name:e.icon,size:"sm",class:"q-pb-sm q-mr-md"},null,8,["name"]),q("span",le,g(e.title),1)]),_:1},8,["class"]),o(y,{class:"q-mt-md"},{default:s(()=>[Q(g(e.message),1)]),_:1}),o(P,{align:"right"},{default:s(()=>[o(x,{flat:"",label:"Dismiss",onClick:t(c)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),re={class:"text-h5"},ce={key:0},ue={class:"text-weight-bold text-body1"},de={key:0},me={key:1},pe={key:2},fe=H({__name:"InspectionDialog",props:{record:{},table:{}},emits:[...h.emits],setup(i){const a=i,{dialogRef:r,onDialogHide:p,onDialogOK:c}=h(),e=X(),n=a.table===V.LOGS?E.getInspectionItems():S.getInspectionItems(a.table),_=a.table===V.LOGS?E.getLabel("singular"):S.getLabel(a.table,"singular");return G(async()=>{U(!0,e.record,a.record)}),W(()=>{e.$reset()}),(k,O)=>(l(),D(R,{ref_key:"dialogRef",ref:r,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:t(p)},{default:s(()=>[o(j,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:s(()=>[o($,{name:t(v).INSPECT,size:"sm",class:"q-mx-sm"},null,8,["name"]),o(M,null,{default:s(()=>[Q("Inspect")]),_:1}),o(x,{flat:"",round:"",icon:t(v).CLOSE,onClick:t(c)},null,8,["icon","onClick"])]),_:1}),o(L,{class:"q-dialog-plugin"},{default:s(()=>[o(y,null,{default:s(()=>[q("p",re,g(t(_)),1),(l(!0),m(w,null,I(t(n),(u,b)=>(l(),m("div",{key:b,class:"q-mb-md"},[t(e).record[u.field]!==void 0?(l(),m("div",ce,[q("div",ue,g(u.label),1),u.output==="single"?(l(),m("div",de,g(u.format(t(e).record[u.field])),1)):u.output==="list"?(l(),m("div",me,[(l(!0),m(w,null,I(t(e).record[u.field],(C,f)=>(l(),m("li",{key:f,class:"q-ml-sm"},g(u.format(C)),1))),128))])):u.output==="key-values"?(l(),m("div",pe,[(l(!0),m(w,null,I(t(e).record[u.field],(C,f)=>(l(),m("li",{key:f,class:"q-ml-sm"},g(f)+": "+g(C),1))),128))])):K("",!0)])):K("",!0)]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),ge={class:"text-h5"},_e=q("p",null,"Select how far back you want the charts to display.",-1),he=H({__name:"ChartingDialog",props:{id:{},parentTable:{}},emits:[...h.emits],setup(i){const a=i,{dialogRef:r,onDialogHide:p,onDialogOK:c}=h(),e=oe(),n=z(null),_=z([d[d["One Week"]],d[d["One Month"]],d[d["Three Months"]],d[d["Six Months"]],d[d["One Year"]],d[d["All Time"]]]),k=S.getChartComponents(a.parentTable),O=S.getLabel(a.parentTable,"singular");function u(b){return b!=null&&b!==""}return(b,C)=>(l(),D(R,{ref_key:"dialogRef",ref:r,"transition-show":"slide-up","transition-hide":"slide-down",maximized:"",onHide:t(p)},{default:s(()=>[o(j,{class:"bg-info text-white",style:{"max-height":"50px"}},{default:s(()=>[o($,{name:t(v).CHARTS,size:"sm",class:"q-mx-sm"},null,8,["name"]),o(M,null,{default:s(()=>[Q("Charts")]),_:1}),o(x,{flat:"",round:"",icon:t(v).CLOSE,onClick:t(c)},null,8,["icon","onClick"])]),_:1}),o(L,{class:"q-dialog-plugin"},{default:s(()=>[t(k).length>0?(l(),D(y,{key:0},{default:s(()=>[q("p",ge,g(t(O)),1),_e,o(Z,{modelValue:t(e).chartTime,"onUpdate:modelValue":C[0]||(C[0]=f=>t(e).chartTime=f),ref_key:"inputRef",ref:n,label:"Chart Time",options:_.value,rules:[f=>u(f)||"Required"],"emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary",onBlur:C[1]||(C[1]=f=>{var T,B;return!!((B=(T=n.value)==null?void 0:T.value)!=null&&B.validate())})},null,8,["modelValue","options","rules"]),(l(!0),m(w,null,I(t(k),(f,T)=>(l(),m("div",{key:T,class:"q-mb-xl"},[(l(),D(Y(f),{id:b.id,parentTable:b.parentTable},null,8,["id","parentTable"]))]))),128))]),_:1})):(l(),D(ee,{key:1,error:"no-data"}))]),_:1})]),_:1},8,["onHide"]))}});function qe(){const i=J();function a(e,n,_,k,O){i.dialog({component:ae,componentProps:{title:e,message:n,icon:_,color:k}}).onOk(()=>{O()})}function r(e,n,_=v.INFO,k="info"){i.dialog({component:ie,componentProps:{title:e,message:n,icon:_,color:k}})}function p(e,n){i.dialog({component:fe,componentProps:{record:e,table:n}})}function c(e,n){i.dialog({component:he,componentProps:{id:e,parentTable:n}})}return{confirmDialog:a,dismissDialog:r,inspectDialog:p,chartsDialog:c}}export{qe as u};
