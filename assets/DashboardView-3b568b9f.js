import{c as ke,u as $e,a as De,g as xe,b as Re,d as Ie,r as W,e as P,o as Oe,h as G,f as Me,Q as k,i as Le,j as Fe,s as J,k as X,l as ye,D as O,S as ae,m as v,n as q,w as A,p as i,q as be,t as f,v as C,x as n,A as oe,y as Ne,I as r,z as I,R as qe,B as ge,C as Ue,E as We,F as ie,G as E,H as K,J as Y,K as Z,L as Se,M as Ee,N as Ve,O as T,P as Pe,T as Be,U as $,V as ee,W as He,X as je,Y as Qe,Z as Ke,_ as Ye}from"./index-3058d064.js";import{_ as ze}from"./ResponsivePage.vue_vue_type_script_setup_true_lang-60f3cbdc.js";import{u as Ce}from"./ui-98f63de9.js";import{Q as fe}from"./QBadge-3f262af5.js";import{t as he,u as Xe,a as Ge,i as Je}from"./index-dad0dab8.js";import{Q as te,a as H}from"./QItem-5c1cf808.js";import{Q as Ze}from"./QList-b436e988.js";import{Q as et}from"./QMenu-e46fbb4e.js";import{u as le}from"./useDialogs-ed73e05d.js";import{u as Ae}from"./useRouting-23e7ca31.js";import{u as tt}from"./useDefaults-e6505b43.js";import"./selection-9f312b7a.js";import"./action-3e7e5407.js";import"./QSelect-768676f4.js";import"./QItemLabel-25a6c8c6.js";import"./QSpace-986c28bb.js";import"./ErrorStates.vue_vue_type_script_setup_true_lang-63b3acc7.js";const nt=ke({name:"QRating",props:{...$e,...De,modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],iconAriaLabel:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{slots:a,emit:l}){const{proxy:{$q:m}}=xe(),b=Re(e),_=Ie(e),S=Le(_),d=W(0);let g={};const t=P(()=>e.readonly!==!0&&e.disable!==!0),w=P(()=>`q-rating row inline items-center q-rating--${t.value===!0?"":"non-"}editable`+(e.noDimming===!0?" q-rating--no-dimming":"")+(e.disable===!0?" disabled":"")+(e.color!==void 0&&Array.isArray(e.color)===!1?` text-${e.color}`:"")),D=P(()=>{const s=Array.isArray(e.icon)===!0?e.icon.length:0,o=Array.isArray(e.iconSelected)===!0?e.iconSelected.length:0,R=Array.isArray(e.iconHalf)===!0?e.iconHalf.length:0,F=Array.isArray(e.color)===!0?e.color.length:0,U=Array.isArray(e.colorSelected)===!0?e.colorSelected.length:0,c=Array.isArray(e.colorHalf)===!0?e.colorHalf.length:0;return{iconLen:s,icon:s>0?e.icon[s-1]:e.icon,selIconLen:o,selIcon:o>0?e.iconSelected[o-1]:e.iconSelected,halfIconLen:R,halfIcon:R>0?e.iconHalf[o-1]:e.iconHalf,colorLen:F,color:F>0?e.color[F-1]:e.color,selColorLen:U,selColor:U>0?e.colorSelected[U-1]:e.colorSelected,halfColorLen:c,halfColor:c>0?e.colorHalf[c-1]:e.colorHalf}}),M=P(()=>{if(typeof e.iconAriaLabel=="string"){const s=e.iconAriaLabel.length!==0?`${e.iconAriaLabel} `:"";return o=>`${s}${o}`}if(Array.isArray(e.iconAriaLabel)===!0){const s=e.iconAriaLabel.length;if(s>0)return o=>e.iconAriaLabel[Math.min(o,s)-1]}return(s,o)=>`${o} ${s}`}),L=P(()=>{const s=[],o=D.value,R=Math.ceil(e.modelValue),F=t.value===!0?0:null,U=e.iconHalf===void 0||R===e.modelValue?-1:R;for(let c=1;c<=e.max;c++){const N=d.value===0&&e.modelValue>=c||d.value>0&&d.value>=c,V=U===c&&d.value<c,B=d.value>0&&(V===!0?R:e.modelValue)>=c&&d.value<c,j=V===!0?c<=o.halfColorLen?e.colorHalf[c-1]:o.halfColor:o.selColor!==void 0&&N===!0?c<=o.selColorLen?e.colorSelected[c-1]:o.selColor:c<=o.colorLen?e.color[c-1]:o.color,Q=(V===!0?c<=o.halfIconLen?e.iconHalf[c-1]:o.halfIcon:o.selIcon!==void 0&&(N===!0||B===!0)?c<=o.selIconLen?e.iconSelected[c-1]:o.selIcon:c<=o.iconLen?e.icon[c-1]:o.icon)||m.iconSet.rating.icon;s.push({name:(V===!0?c<=o.halfIconLen?e.iconHalf[c-1]:o.halfIcon:o.selIcon!==void 0&&(N===!0||B===!0)?c<=o.selIconLen?e.iconSelected[c-1]:o.selIcon:c<=o.iconLen?e.icon[c-1]:o.icon)||m.iconSet.rating.icon,attrs:{tabindex:F,role:"radio","aria-checked":e.modelValue===c?"true":"false","aria-label":M.value(c,Q)},iconClass:"q-rating__icon"+(N===!0||V===!0?" q-rating__icon--active":"")+(B===!0?" q-rating__icon--exselected":"")+(d.value===c?" q-rating__icon--hovered":"")+(j!==void 0?` text-${j}`:"")})}return s}),h=P(()=>{const s={role:"radiogroup"};return e.disable===!0&&(s["aria-disabled"]="true"),e.readonly===!0&&(s["aria-readonly"]="true"),s});function p(s){if(t.value===!0){const o=Fe(parseInt(s,10),1,parseInt(e.max,10)),R=e.noReset!==!0&&e.modelValue===o?0:o;R!==e.modelValue&&l("update:modelValue",R),d.value=0}}function y(s){t.value===!0&&(d.value=s)}function u(s,o){switch(s.keyCode){case 13:case 32:return p(o),J(s);case 37:case 40:return g[`rt${o-1}`]&&g[`rt${o-1}`].focus(),J(s);case 39:case 38:return g[`rt${o+1}`]&&g[`rt${o+1}`].focus(),J(s)}}function x(){d.value=0}return Oe(()=>{g={}}),()=>{const s=[];return L.value.forEach(({iconClass:o,name:R,attrs:F},U)=>{const c=U+1;s.push(G("div",{key:c,ref:N=>{g[`rt${c}`]=N},class:"q-rating__icon-container flex flex-center",...F,onClick(){p(c)},onMouseover(){y(c)},onMouseout:x,onFocus(){y(c)},onBlur:x,onKeyup(N){u(N,c)}},Me(a[`tip-${c}`],[G(k,{class:o,name:R})])))}),e.name!==void 0&&e.disable!==!0&&S(s,"push"),G("div",{class:w.value,style:b.value,...h.value},s)}}}),at={class:"text-h6"},ot=f("p",null,' Continue reading to learn more, or scroll to the bottom and click the "Start Using App" button to jump right in. ',-1),it={class:"q-mb-md"},lt=f("p",null," You are currently on the Dashboard page. This page gives you quick access to the primary data you work with in the app. You can favorite items on the Dashboard by clicking the star icon in the top right corner of the item. This prioritizes the item to the top of the list. ",-1),st={class:"q-mb-md"},rt=f("p",null," You can navigate through the app using the menu in the top left corner of the page. An example of the menu button is below. The menu gives you access to the primary data tables, Frequently Asked Questions (FAQ), Settings, and more. More advanced operations for the app are available on the Settings page. ",-1),ut={class:"q-mb-md"},ct=f("p",null," You can access the data tables for the current Dashboard selection by clicking the buttons in the top right corner of the page. The left button is for the parent records. The right button is for the child records. ",-1),dt={class:"q-mb-md"},mt=f("p",null,"Click the button below when you are ready to get started.",-1),ft=X({__name:"WelcomeOverlay",setup(e){const a=W(0),l=W(!1);ye(async()=>{l.value=!!await O.getSettingValue(ae.WELCOME_OVERLAY)});async function m(){await O.setSetting(ae.WELCOME_OVERLAY,!1),l.value=!1}return(b,_)=>(v(),q(Ue,{modelValue:l.value,"onUpdate:modelValue":_[2]||(_[2]=S=>l.value=S),persistent:""},{default:A(()=>[i(ge,{flat:"",square:""},{default:A(()=>[i(be,null,{default:A(()=>[f("p",at,"Welcome to "+C(n(oe)),1),f("p",null,C(n(Ne)),1),ot,f("div",it,[lt,i(nt,{modelValue:a.value,"onUpdate:modelValue":_[0]||(_[0]=S=>a.value=S),max:1,icon:n(r).FAVORITE_OFF,"icon-selected":n(r).FAVORITE_ON,color:"warning",size:"md"},null,8,["modelValue","icon","icon-selected"])]),f("div",st,[rt,i(I,{disable:"",color:"primary",class:"q-px-sm",icon:n(r).MENU},null,8,["icon"])]),f("div",ut,[ct,i(I,{disable:"",color:"info",class:"q-px-sm q-mr-sm",icon:n(r).PARENTS},null,8,["icon"]),i(I,{disable:"",color:"info",class:"q-px-sm",icon:n(r).CHILDREN},null,8,["icon"])]),f("div",dt,[f("p",null," Hope you find "+C(n(oe))+" useful. Please consider donating to help me continue to create and maintain apps like this. Thank you! ",1),i(I,{color:"warning",label:"Donate",to:{name:n(qe).DONATE},icon:n(r).DONATE},null,8,["to","icon"])]),f("div",null,[mt,i(I,{"no-caps":"",label:"Start Using App",class:"full-width",size:"lg",color:"positive",icon:n(r).READY,onClick:_[1]||(_[1]=S=>m())},null,8,["icon"])])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),ht=Je?window:void 0;function vt(e,a={}){const{immediate:l=!0,window:m=ht}=a,b=W(!1);let _=0,S=null;function d(w){if(!b.value||!m)return;const D=w-(_||w);e({delta:D,timestamp:w}),_=w,S=m.requestAnimationFrame(d)}function g(){!b.value&&m&&(b.value=!0,S=m.requestAnimationFrame(d))}function t(){b.value=!1,S!=null&&m&&(m.cancelAnimationFrame(S),S=null)}return l&&g(),Ge(t),{isActive:We(b),pause:t,resume:g}}var pt=Object.defineProperty,ve=Object.getOwnPropertySymbols,_t=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable,pe=(e,a,l)=>a in e?pt(e,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[a]=l,bt=(e,a)=>{for(var l in a||(a={}))_t.call(a,l)&&pe(e,l,a[l]);if(ve)for(var l of ve(a))yt.call(a,l)&&pe(e,l,a[l]);return e};function gt(e={}){const{controls:a=!1,interval:l="requestAnimationFrame"}=e,m=W(new Date),b=()=>m.value=new Date,_=l==="requestAnimationFrame"?vt(b,{immediate:!0}):Xe(b,l,{immediate:!0});return a?bt({now:m},_):m}var St=Object.defineProperty,z=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable,_e=(e,a,l)=>a in e?St(e,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[a]=l,Et=(e,a)=>{for(var l in a||(a={}))we.call(a,l)&&_e(e,l,a[l]);if(z)for(var l of z(a))Te.call(a,l)&&_e(e,l,a[l]);return e},Ct=(e,a)=>{var l={};for(var m in e)we.call(e,m)&&a.indexOf(m)<0&&(l[m]=e[m]);if(e!=null&&z)for(var m of z(e))a.indexOf(m)<0&&Te.call(e,m)&&(l[m]=e[m]);return l};const At=[{max:6e4,value:1e3,name:"second"},{max:276e4,value:6e4,name:"minute"},{max:72e6,value:36e5,name:"hour"},{max:5184e5,value:864e5,name:"day"},{max:24192e5,value:6048e5,name:"week"},{max:28512e6,value:2592e6,name:"month"},{max:1/0,value:31536e6,name:"year"}],wt={justNow:"just now",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,a)=>e===1?a?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,a)=>e===1?a?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,a)=>e===1?a?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,a)=>e===1?a?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`,invalid:""};function Tt(e){return e.toISOString().slice(0,10)}function kt(e,a={}){const{controls:l=!1,updateInterval:m=3e4}=a,b=gt({interval:m,controls:!0}),{now:_}=b,S=Ct(b,["now"]),d=P(()=>$t(new Date(he(e)),a,he(_)));return l?Et({timeAgo:d},S):d}function $t(e,a={},l=Date.now()){var m;const{max:b,messages:_=wt,fullDateFormatter:S=Tt,units:d=At,showSecond:g=!1,rounding:t="round"}=a,w=typeof t=="number"?y=>+y.toFixed(t):Math[t],D=+l-+e,M=Math.abs(D);function L(y,u){return w(Math.abs(y)/u.value)}function h(y,u){const x=L(y,u),s=y>0,o=p(u.name,x,s);return p(s?"past":"future",o,s)}function p(y,u,x){const s=_[y];return typeof s=="function"?s(u,x):s.replace("{0}",u.toString())}if(M<6e4&&!g)return _.justNow;if(typeof b=="number"&&M>b)return S(new Date(e));if(typeof b=="string"){const y=(m=d.find(u=>u.name===b))==null?void 0:m.max;if(y&&M>y)return S(new Date(e))}for(const[y,u]of d.entries()){if(L(D,u)<=0&&d[y-1])return h(D,d[y-1]);if(M<u.max)return h(D,u)}return _.invalid}const Dt={class:"absolute-top-right q-ma-xs"},xt=X({__name:"DashboardRecordCardMenu",props:{parentTable:{},record:{}},setup(e){const a=e,l=Ce(),{log:m}=ie(),{goToEdit:b}=Ae(),{confirmDialog:_,dismissDialog:S,inspectDialog:d,chartsDialog:g}=le();function t(h){S("Previous Note",h,r.NOTE)}function w(h,p,y){const u=y?"Unfavorite":"Favorite",x=`Do you want to ${u.toLocaleLowerCase()} ${p}?`,s=y?r.FAVORITE_OFF:r.FAVORITE_ON;_(u,x,s,"info",async()=>{try{await O.toggleFavorite(a.parentTable,h),m.info(`${u}d ${p}`,{id:h,name:p})}catch(o){m.error(`${u} failed`,o)}})}async function D(h){const p=await O.getRecord(a.parentTable,h);p?d(p,a.parentTable):m.error("Failed to find record",{id:h})}function M(h,p){g(p,h)}function L(){_("Discard Workout","Would you like to discard the current active workout? You will lose any progress saved so far, but regain access to locked records.",r.CANCEL,"warning",async()=>{try{await O.discardWorkout(),m.info("Discarded active workout")}catch(h){m.error("Failed to discard active workout",h)}})}return(h,p)=>{var y;return v(),E("div",Dt,[K(i(I,{dense:"",round:"",flat:"",color:"primary",icon:n(r).NOTE,onClick:p[0]||(p[0]=u=>{var x,s;return t(((s=(x=h.record)==null?void 0:x.previousChild)==null?void 0:s.note)||"")})},null,8,["icon"]),[[Y,(y=h.record.previousChild)==null?void 0:y.note]]),h.record.activated?(v(),q(I,{key:0,dense:"",round:"",flat:"",color:"warning",icon:n(r).CANCEL,onClick:p[1]||(p[1]=u=>L())},null,8,["icon"])):(v(),q(I,{key:1,dense:"",round:"",flat:"",color:h.record.favorited?"warning":"grey",icon:h.record.favorited?n(r).FAVORITE_ON:n(r).FAVORITE_OFF,onClick:p[2]||(p[2]=u=>w(h.record.id,h.record.name,h.record.favorited))},null,8,["color","icon"])),i(I,{round:"",flat:"",icon:n(r).MENU_VERTICAL},{default:A(()=>[i(et,{"auto-close":"",anchor:"top right","transition-show":"flip-right","transition-hide":"flip-left"},{default:A(()=>[i(Ze,null,{default:A(()=>[i(te,{disable:h.record.previousChild===void 0,clickable:"",onClick:p[3]||(p[3]=u=>M(h.parentTable,h.record.id))},{default:A(()=>[i(H,{avatar:""},{default:A(()=>[i(k,{color:"accent",name:n(r).CHARTS},null,8,["name"])]),_:1}),i(H,null,{default:A(()=>[Z("Charts")]),_:1})]),_:1},8,["disable"]),i(te,{clickable:"",onClick:p[4]||(p[4]=u=>D(h.record.id))},{default:A(()=>[i(H,{avatar:""},{default:A(()=>[i(k,{color:"primary",name:n(r).INSPECT},null,8,["name"])]),_:1}),i(H,null,{default:A(()=>[Z("Inspect")]),_:1})]),_:1}),i(te,{disable:h.record.activated,clickable:"",onClick:p[5]||(p[5]=u=>n(b)(n(l).dashboardSelection,h.record.id))},{default:A(()=>[i(H,{avatar:""},{default:A(()=>[i(k,{color:"warning",name:n(r).EDIT},null,8,["name"])]),_:1}),i(H,null,{default:A(()=>[Z("Edit")]),_:1})]),_:1},8,["disable"])]),_:1})]),_:1})]),_:1},8,["icon"])])}}}),Rt={class:"row justify-center q-gutter-md"},It=f("span",{class:"text-caption q-ml-xs"},"Active",-1),Ot={class:"text-h6"},Mt={key:1},Lt={class:"text-caption q-ml-xs"},Ft={key:2},Nt={class:"text-caption q-ml-xs"},qt={key:3},Ut={class:"text-caption q-ml-xs"},Wt={key:4},Vt={class:"text-caption q-ml-xs"},Pt={key:5},Bt={class:"text-caption q-ml-xs"},Ht={key:6},jt={class:"text-caption q-ml-xs"},Qt={key:7},Kt={class:"text-caption q-ml-xs"},Yt={key:8},zt={class:"text-caption q-ml-xs"},Xt={key:9},Gt={class:"text-caption q-ml-xs"},Jt={key:10},Zt={class:"text-caption q-ml-xs"},en={key:11},tn={class:"text-caption q-ml-xs"},nn={key:12},an={class:"text-caption q-ml-xs"},on={key:13},ln={class:"text-caption q-ml-xs"},sn={key:14},rn={class:"text-caption q-ml-xs"},un={key:15},cn={class:"text-caption q-ml-xs"},dn={key:16},mn={class:"text-caption q-ml-xs"},fn={key:0,class:"text-center full-width"},hn={class:"col-12 text-grey text-center text-body1"},vn={key:0,class:"col-12 text-center"},pn={class:"col-12 text-center"},ne=X({__name:"DashboardRecordCardList",props:{parentTable:{},records:{},showDescriptions:{type:Boolean},defaultsFunc:{type:Function}},setup(e){const a=e,{log:l}=ie(),{confirmDialog:m}=le(),{goToCreate:b,goToActive:_}=Ae();async function S(d,g){await O.isActiveWorkout()?m("Replace Active Workout",`You already have an active workout. Do you want to replace it with ${g}?`,r.WARN,"warning",async()=>{try{await O.discardWorkout(),await O.beginWorkout(d),_(),l.info("Replaced active workout",{replacedById:d,replacedByName:g})}catch(w){l.error("Failed to replace active workout",w)}}):(await O.beginWorkout(d),_())}return(d,g)=>(v(),E("div",Rt,[(v(!0),E(Se,null,Ee(d.records,t=>(v(),E("div",{key:t.id,class:"col-xs-12 col-sm-12 col-md-12 col-lg-5"},[i(ge,{class:"column full-height"},{default:A(()=>[i(be,{class:"col"},{default:A(()=>{var w,D,M,L,h,p,y,u,x,s,o,R,F,U,c,N,V,B,j,Q,se,re,ue,ce,de;return[i(xt,{parentTable:d.parentTable,record:t},null,8,["parentTable","record"]),t.activated?(v(),q(fe,{key:0,rounded:"",color:"warning",class:"absolute-top-left q-py-none",style:{left:"-4px",top:"-6px"}},{default:A(()=>[i(k,{name:n(r).LOCK},null,8,["name"]),It]),_:1})):T("",!0),f("p",Ot,C(t.name),1),d.showDescriptions?(v(),E("p",Mt,C(t.desc),1)):T("",!0),i(fe,{rounded:"",color:"secondary",class:"q-py-none"},{default:A(()=>{var me;return[i(k,{name:n(r).PREVIOUS},null,8,["name"]),f("span",Lt,C(n(kt)(((me=t.previousChild)==null?void 0:me.createdTimestamp)||"").value||"No previous records"),1)]}),_:2},1024),(w=t.previousChild)!=null&&w.createdTimestamp?(v(),E("div",Ft,[i(k,{name:n(r).CALENDAR_CHECK},null,8,["name"]),f("span",Nt,C(n(Pe)(t.previousChild.createdTimestamp)),1)])):T("",!0),(D=t.previousChild)!=null&&D.createdTimestamp&&((M=t==null?void 0:t.previousChild)!=null&&M.finishedTimestamp)?(v(),E("div",qt,[i(k,{name:n(r).STOPWATCH},null,8,["name"]),f("span",Ut,C(n(Be)(t.previousChild.finishedTimestamp-t.previousChild.createdTimestamp)),1)])):T("",!0),(L=t==null?void 0:t.previousChild)!=null&&L.bodyWeight?(v(),E("div",Wt,[i(k,{name:n(r).MEASUREMENTS},null,8,["name"]),f("span",Vt,C(t.previousChild.bodyWeight)+" lbs ",1)])):T("",!0),(h=t==null?void 0:t.previousChild)!=null&&h.percent?(v(),E("div",Pt,[i(k,{name:n(r).MEASUREMENTS},null,8,["name"]),f("span",Bt,C(t.previousChild.percent)+"% ",1)])):T("",!0),(p=t==null?void 0:t.previousChild)!=null&&p.inches?(v(),E("div",Ht,[i(k,{name:n(r).MEASUREMENTS},null,8,["name"]),f("span",jt,C(t.previousChild.inches)+" inches ",1)])):T("",!0),(y=t==null?void 0:t.previousChild)!=null&&y.number?(v(),E("div",Qt,[i(k,{name:n(r).MEASUREMENTS},null,8,["name"]),f("span",Kt,C(t.previousChild.number),1)])):T("",!0),(x=(u=t==null?void 0:t.previousChild)==null?void 0:u.reps)!=null&&x[0]?(v(),E("div",Yt,[i(k,{name:n(r).REPS},null,8,["name"]),f("span",zt,C(t.previousChild.reps.join(", "))+" reps ",1)])):T("",!0),(o=(s=t==null?void 0:t.previousChild)==null?void 0:s.weightLbs)!=null&&o[0]?(v(),E("div",Xt,[i(k,{name:n(r).WEIGHT},null,8,["name"]),f("span",Gt,C(t.previousChild.weightLbs.join(", "))+" lbs ",1)])):T("",!0),(F=(R=t==null?void 0:t.previousChild)==null?void 0:R.distanceMiles)!=null&&F[0]?(v(),E("div",Jt,[i(k,{name:n(r).DISTANCE},null,8,["name"]),f("span",Zt,C(t.previousChild.distanceMiles.join(", "))+" mi ",1)])):T("",!0),(c=(U=t==null?void 0:t.previousChild)==null?void 0:U.durationMinutes)!=null&&c[0]?(v(),E("div",en,[i(k,{name:n(r).DURATION},null,8,["name"]),f("span",tn,C(t.previousChild.durationMinutes.join(", "))+" minutes ",1)])):T("",!0),(V=(N=t==null?void 0:t.previousChild)==null?void 0:N.watts)!=null&&V[0]?(v(),E("div",nn,[i(k,{name:n(r).WATTS},null,8,["name"]),f("span",an,C(t.previousChild.watts.join(", "))+" watts ",1)])):T("",!0),(j=(B=t==null?void 0:t.previousChild)==null?void 0:B.speedMph)!=null&&j[0]?(v(),E("div",on,[i(k,{name:n(r).SPEED},null,8,["name"]),f("span",ln,C(t.previousChild.speedMph.join(", "))+" mph ",1)])):T("",!0),(se=(Q=t==null?void 0:t.previousChild)==null?void 0:Q.resistance)!=null&&se[0]?(v(),E("div",sn,[i(k,{name:n(r).RESISTANCE},null,8,["name"]),f("span",rn,C(t.previousChild.resistance.join(", "))+" resistance ",1)])):T("",!0),(ue=(re=t==null?void 0:t.previousChild)==null?void 0:re.incline)!=null&&ue[0]?(v(),E("div",un,[i(k,{name:n(r).INCLINE},null,8,["name"]),f("span",cn,C(t.previousChild.incline.join(", "))+" incline ",1)])):T("",!0),(de=(ce=t==null?void 0:t.previousChild)==null?void 0:ce.calories)!=null&&de[0]?(v(),E("div",dn,[i(k,{name:n(r).CALORIES},null,8,["name"]),f("span",mn,C(t.previousChild.calories.join(", "))+" calories ",1)])):T("",!0)]}),_:2},1024),d.parentTable===n($).WORKOUTS?(v(),q(ee,{key:0,class:"col-auto"},{default:A(()=>[t!=null&&t.activated?(v(),q(I,{key:0,label:"Resume Workout",color:"positive",class:"full-width",icon:n(r).WORKOUT_RESUME,onClick:g[0]||(g[0]=w=>n(_)())},null,8,["icon"])):(v(),q(I,{key:1,label:"Begin Workout",color:"primary",icon:n(r).WORKOUT_BEGIN,class:"full-width",onClick:w=>S(t.id,t.name)},null,8,["icon","onClick"]))]),_:2},1024)):T("",!0),d.parentTable===n($).EXERCISES?(v(),q(ee,{key:1,class:"col-auto"},{default:A(()=>[t!=null&&t.activated?(v(),E("div",fn," Access limited while active ")):(v(),q(I,{key:1,label:"Add Exercise Entry",color:"primary",class:"full-width",icon:n(r).ATTACH,onClick:w=>n(b)(n($).EXERCISE_RESULTS,t.id)},null,8,["icon","onClick"]))]),_:2},1024)):T("",!0),d.parentTable===n($).MEASUREMENTS?(v(),q(ee,{key:2,class:"col-auto"},{default:A(()=>[i(I,{label:"Take Measurement",color:"primary",class:"full-width",icon:n(r).MEASUREMENTS,onClick:w=>n(b)(n($).MEASUREMENT_RESULTS,t.id)},null,8,["icon","onClick"])]),_:2},1024)):T("",!0)]),_:2},1024)]))),128)),f("div",hn,C(n(Ve)(d.records)),1),d.records.length===0&&d.defaultsFunc?(v(),E("div",vn,[i(I,{class:"col-12 text-center",color:"primary",icon:n(r).DEFAULTS,label:`Add ${n(O).getLabel(a.parentTable,"singular")} Defaults`,onClick:g[1]||(g[1]=t=>d.defaultsFunc())},null,8,["icon","label"])])):T("",!0),f("div",pn,[i(I,{class:"col-12 text-center",color:"positive",icon:n(r).CREATE,label:`Create ${n(O).getLabel(d.parentTable,"singular")}`,onClick:g[2]||(g[2]=t=>n(b)(d.parentTable))},null,8,["icon","label"])])]))}}),_n={class:"q-mb-md"},yn={class:"text-center text-body1"},bn={class:"row justify-center"},Nn=X({__name:"DashboardView",setup(e){He({title:`${oe} - Dashboard`});const a=Ce(),{log:l}=ie(),{confirmDialog:m}=le(),{onAddBarbellStrengthWorkouts:b,onAddAuxiliaryStrengthWorkouts:_,onAddStretchRoutine:S,onAddStandardMeasurements:d}=tt(),g=[{value:$.WORKOUTS,label:je.getLabel("plural"),icon:r.WORKOUTS},{value:$.EXERCISES,label:Qe.getLabel("plural"),icon:r.EXERCISES},{value:$.MEASUREMENTS,label:Ke.getLabel("plural"),icon:r.MEASUREMENTS}],t=W(!1),w=W([]),D=W([]),M=W([]),L=O.liveDashboardData($.WORKOUTS).subscribe({next:u=>w.value=u,error:u=>l.error("Error fetching live Workouts",u)}),h=O.liveDashboardData($.EXERCISES).subscribe({next:u=>D.value=u,error:u=>l.error("Error fetching live Exercises",u)}),p=O.liveDashboardData($.MEASUREMENTS).subscribe({next:u=>M.value=u,error:u=>l.error("Error fetching live Measurements",u)});ye(async()=>{t.value=!!await O.getSettingValue(ae.DASHBOARD_DESCRIPTIONS)}),Ye(()=>{L.unsubscribe(),h.unsubscribe(),p.unsubscribe()});function y(){m("Load Default Workouts","Cycle through, and confirm each default workout you would like to load into the database.",r.DEFAULTS,"info",async()=>{try{b(),_(),S()}catch(u){l.error("Defaults failed",u)}})}return(u,x)=>(v(),q(ze,{bannerIcon:n(r).DASHBOARD,bannerTitle:"Dashboard"},{default:A(()=>{var s;return[i(ft),f("section",_n,[f("p",yn,C((s=g.find(o=>o.value===n(a).dashboardSelection))==null?void 0:s.label),1),f("div",bn,[(v(),E(Se,null,Ee(g,(o,R)=>i(I,{key:R,round:"",size:"lg",class:"q-mb-xs q-mx-xs",icon:o.icon,color:n(a).dashboardSelection===o.value?"info":"grey",onClick:F=>n(a).dashboardSelection=o.value},null,8,["icon","color","onClick"])),64))])]),f("section",null,[K(i(ne,{parentTable:n($).WORKOUTS,records:w.value,showDescriptions:t.value,defaultsFunc:y},null,8,["parentTable","records","showDescriptions"]),[[Y,n(a).dashboardSelection===n($).WORKOUTS]]),K(i(ne,{parentTable:n($).EXERCISES,records:D.value,showDescriptions:t.value,defaultsFunc:void 0},null,8,["parentTable","records","showDescriptions"]),[[Y,n(a).dashboardSelection===n($).EXERCISES]]),K(i(ne,{parentTable:n($).MEASUREMENTS,records:M.value,showDescriptions:t.value,defaultsFunc:n(d)},null,8,["parentTable","records","showDescriptions","defaultsFunc"]),[[Y,n(a).dashboardSelection===n($).MEASUREMENTS]])])]}),_:1},8,["bannerIcon"]))}});export{Nn as default};
