import{Q as x}from"./QBadge-80c64e12.js";import{k as T,F as L,r as o,l as S,D as i,$ as k,aO as E,bn as w,m as c,G as u,t as p,v as h,p as g,w as N,x as f,n as M,O as I}from"./index-9194136f.js";import{C as R,p as V,a as Y,b as O,B as F,c as P,L as Q,P as $,d as q,u as G,e as U,f as W}from"./useCharting-cf56e039.js";import{_ as j}from"./ErrorStates.vue_vue_type_script_setup_true_lang-6a894945.js";import{u as z}from"./ui-ea2f5093.js";const A={key:0},H={key:0},J={class:"text-caption"},K="Best Incline",re=T({__name:"ChartBestIncline",props:{id:{},parentTable:{}},setup(_){const a=_;R.register(V,Y,O,F,P,Q,$,q);const{log:C}=L(),{getSingleChartOptions:b,getSingleChartDataset:v}=W(),y=z(),l=o(!1),s=o(0),d=o({labels:[],datasets:[]});S(async()=>{await m()}),G(m);async function m(){try{const{exerciseInputs:e}=await i.getRecord(a.parentTable,a.id);if((e==null?void 0:e.length)===0||!(e!=null&&e.includes(k.INCLINE)))return;const r=await i.getSortedChildren(i.getChildTable(a.parentTable),a.id);if(r.length===0)return;const n=r.filter(t=>new Date().getTime()-t.createdTimestamp<=E[y.chartTime]);s.value=n.length;const D=n.map(t=>w.formatDate(t.createdTimestamp,"YYYY MMM D")),B=n.map(t=>Number(Math.max(...t.incline).toFixed(2)));d.value={labels:D,datasets:[v(B,"negative","negative")]},l.value=!0}catch(e){C.error("Error loading exercise best incline chart",e)}}return(e,r)=>l.value?(c(),u("section",A,[s.value>0?(c(),u("div",H,[p("div",{class:"text-h6"},h(K)),g(x,{rounded:"",color:"secondary",class:"q-py-none"},{default:N(()=>[p("span",J,h(s.value)+" records in time frame",1)]),_:1}),g(f(U),{options:f(b)(),data:d.value,style:{"max-height":"500px"}},null,8,["options","data"])])):(c(),M(j,{key:1,error:"no-data"}))])):I("",!0)}});export{re as default};
