import{k as y,r as f,l as T,bn as d,ac as _,m as b,G as w,p as a,w as i,z as n,x as v,I as D,t as Y,H as u,a1 as x,L as V}from"./index-fb19aaf1.js";import{Q as M,a as A,C as p,b as q}from"./ClosePopup-7e4a01ae.js";import{u as H}from"./action-9eb8e2d1.js";import"./QMenu-2011497a.js";import"./selection-27a987d8.js";import"./TouchPan-a0b924ef.js";const g=Y("div",{class:"text-weight-bold text-body1"},"Finished Date",-1),h={class:"row items-center justify-end q-gutter-sm"},P={class:"row items-center justify-end q-gutter-sm"},U=y({__name:"FieldFinishedTimestamp",setup(Q){const m=H(),r=f(""),l=f(""),s=f("");T(()=>{l.value=d.formatDate(m.record.finishedTimestamp,"ddd MMM DD YYYY"),s.value=d.formatDate(m.record.finishedTimestamp,"HH:mm:00"),c(m.record.finishedTimestamp)});function c(t){m.record.finishedTimestamp=t,r.value=d.formatDate(t,"ddd, YYYY MMM Do, h:mm A")}function C(){l.value=l.value?l.value:d.formatDate(Date.now(),"ddd MMM DD YYYY"),s.value=s.value?s.value:d.formatDate(Date.now(),"HH:mm:00");const t=new Date(`${l.value} ${s.value}`).getTime();c(t)}function k(){m.record.finishedTimestamp=void 0,r.value=void 0}return _(()=>m.record.finishedTimestamp,(t,e)=>{t!==e&&c(t)}),(t,e)=>(b(),w(V,null,[g,a(x,{modelValue:r.value,"onUpdate:modelValue":e[5]||(e[5]=o=>r.value=o),dense:"",outlined:"",disable:"",color:"primary",hint:"Auto formatted"},{after:i(()=>[a(n,{icon:v(D).CALENDAR_DATE,color:"primary",class:"q-px-sm"},{default:i(()=>[a(M,null,{default:i(()=>[a(A,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value=o),mask:"ddd MMM DD YYYY"},{default:i(()=>[Y("div",h,[u(a(n,{label:"Cancel",flat:""},null,512),[[p]]),u(a(n,{label:"OK",color:"primary",flat:"",onClick:e[0]||(e[0]=o=>C())},null,512),[[p]])])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["icon"]),a(n,{icon:v(D).CLOCK,color:"primary",class:"q-ml-sm q-px-sm"},{default:i(()=>[a(M,null,{default:i(()=>[a(q,{modelValue:s.value,"onUpdate:modelValue":e[3]||(e[3]=o=>s.value=o),mask:"HH:mm:00","now-btn":""},{default:i(()=>[Y("div",P,[u(a(n,{label:"Cancel",flat:""},null,512),[[p]]),u(a(n,{label:"OK",color:"primary",flat:"",onClick:e[2]||(e[2]=o=>C())},null,512),[[p]])])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["icon"]),a(n,{icon:v(D).CALENDAR_CLEAR,color:"negative",class:"q-ml-sm q-px-sm",onClick:e[4]||(e[4]=o=>k())},null,8,["icon"])]),_:1},8,["modelValue"])],64))}});export{U as default};
